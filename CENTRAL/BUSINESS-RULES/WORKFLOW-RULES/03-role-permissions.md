# Role Permissions Matrix

Sistema implementa controle acesso baseado papéis RBAC Role-Based Access Control estabelecendo cinco níveis hierárquicos autorização cada role conjunto específico permissões atômicas permitindo execução ações sistema SUPER_ADMIN papel acesso irrestrito todas funcionalidades incluindo configurações críticas tenant manipulação dados auditoria cento quarenta e sete permissões ADMIN papel administrador tenant acesso amplo exceto configurações sistema críticas podendo gerenciar usuários times comunidades configurações operacionais cento dezoito permissões MANAGER papel gestor projetos regularização permissões aprovação unidades processos legitimação geração certidões sem acesso configurações administrativas sessenta e sete permissões ANALYST papel analista técnico jurídico permissões revisão validação recomendação aprovação sem poder aprovar definitivamente requerendo dupla verificação manager quarenta e duas permissões FIELD_AGENT papel técnico campo responsável coleta dados cadastramento unidades titulares permissões limitadas criação edição rascunhos sem poder aprovar rejeitar vinte e três permissões permissões organizadas domínios funcionais incluindo autenticação sessões controlando login logout gerenciamento tokens gestão usuários times permitindo criar convidar editar desativar usuários atribuir membros equipes gestão comunidades abrangendo criação edição aprovação exclusão comunidades além atribuição autorizações acesso time usuário individual gestão unidades habitacionais cobrindo ciclo completo desde cadastro rascunho até aprovação final rejeição estados intermediários análise correção gestão titulares incluindo cadastro validação CPF CNPJ vinculação unidades definição percentuais propriedade processos legitimação fundiária controlando criação análise técnica jurídica publicação editais gestão contestações emissão certidões oficiais documentos anexos permitindo upload visualização download exclusão fotografias plantas técnicas documentos pessoais certidões relatórios dashboards autorizando geração visualização exportação relatórios gerenciais mapas calor estatísticas progresso indicadores desempenho configurações parâmetros sistema incluindo ajustes tenant customização formulários definição valores padrão ativação features experimentais auditoria logs concedendo acesso registros ações usuários eventos sistema alterações dados sensíveis troubleshooting problemas sincronização offline controlando quais usuários podem baixar dados localmente trabalho campo realizar sincronização bidirecional resolução conflitos operações GIS mapas permitindo desenho geometrias importação shapefiles análise espacial sobreposições cálculos área perímetro.

Matriz permissões estabelece SUPER_ADMIN possui todas cento quarenta e sete permissões atômicas sistema sem restrições permitindo inclusive operações perigosas exclusão física dados resetar senhas qualquer usuário modificar logs auditoria devendo atribuído apenas equipe técnica infraestrutura desenvolvimento ADMIN possui cento dezoito permissões excluindo apenas operações críticas sistema modificar configurações multi-tenancy editar logs auditoria excluir dados permanentemente acessar credenciais integração sendo papel adequado gestores TI órgão público responsável MANAGER possui sessenta e sete permissões focadas operações negócio incluindo aprovar unidades habitacionais gerenciar processos legitimação emitir certidões gerar relatórios gerenciais configurar parâmetros operacionais sem acesso gestão usuários configurações sistema sendo papel adequado coordenadores projetos regularização ANALYST possui quarenta e duas permissões limitadas análise recomendação incluindo revisar unidades cadastradas validar documentação anexada adicionar anotações comentários solicitar correções elaborar pareceres técnicos jurídicos sem poder aprovar definitivamente unidades processos exigindo aprovação posterior manager implementando segregação responsabilidades FIELD_AGENT possui vinte e três permissões mínimas necessárias trabalho campo incluindo cadastrar unidades rascunho cadastrar titulares capturar fotografias desenhar geometrias mapa sincronizar dados offline visualizar próprias unidades criadas sem acesso dados outras equipes unidades já aprovadas garantindo isolamento dados entre times permissões específicas módulo estabelecem autenticação permite todos roles realizar login logout apenas ADMIN SUPER_ADMIN podem forçar logout outros usuários revogar tokens sessão gestão usuários restringe criação edição ADMIN SUPER_ADMIN sendo MANAGER capaz apenas visualizar usuários tenant convidar novos usuários não editar roles desativar contas gestão times permite MANAGER criar times adicionar membros apenas ADMIN pode excluir times transferir propriedade comunidades entre times gestão comunidades autoriza MANAGER criar editar comunidades ADMIN deve aprovar comunidades antes ficarem visíveis atribuição times sendo SUPER_ADMIN capaz excluir comunidades todas unidades associadas mediante confirmação explícita gestão unidades permite FIELD_AGENT criar editar estado DRAFT sendo ANALYST responsável transição PENDING_ANALYSIS IN_REVIEW enquanto apenas MANAGER pode aprovar rejeitar solicitar correções implementando workflow dupla verificação gestão titulares permite FIELD_AGENT ANALYST cadastrar editar validações CPF duplicado verificação certidões negativas propriedade são executadas automaticamente sistema sem intervenção manual processos legitimação requerem MANAGER protocolar solicitação emitir certidão enquanto ANALYST elabora pareceres técnicos jurídicos sendo publicação edital registro contestações tarefas administrativas executadas ADMIN documentos permitem upload todos roles exclusão documentos anexados unidades aprovadas processos protocolados requer justificativa aprovação ADMIN sendo registrada auditoria relatórios gerenciais acessíveis MANAGER superiores enquanto relatórios auditoria compliance restritos ADMIN SUPER_ADMIN protegendo dados sensíveis rastreabilidade configurações tenant logo marca cores tema textos customizados editáveis ADMIN enquanto configurações integração Keycloak servidores WMS credenciais APIs externas requerem SUPER_ADMIN auditoria logs permite MANAGER visualizar logs ações unidades processos comunidades apenas ADMIN visualiza logs completos todas ações todos usuários tenant sendo SUPER_ADMIN capaz exportar logs análise forense sincronização offline autorizada FIELD_AGENT ANALYST permitindo download dados comunidades atribuídas times quantidade comunidades sincronizáveis simultaneamente limitada role sendo FIELD_AGENT restrito três comunidades ANALYST dez comunidades MANAGER sem limite operações GIS importação shapefiles análise sobreposição lote recálculo áreas múltiplas unidades restritas ANALYST superiores prevenindo sobrecarga sistema operações massivas não autorizadas.

Permissões compostas condicionais estabelecem alguns recursos exigem combinação múltiplas permissões atômicas emitir certidão legitimação requerendo units.approve legitimation.approve documents.generate simultaneamente garantindo apenas usuários perfil completo gestor possam executar operação crítica visualização dados sensíveis CPF completo titulares histórico alterações unidades logs sincronização offline requer permissão explícita data.view_sensitive adicional acesso módulo correspondente implementando camada extra proteção dados pessoais conforme LGPD operações exclusão divididas soft delete permitido creator entidade dentro vinte e quatro horas hard delete permitido apenas ADMIN mediante justificativa sendo hard delete unidades aprovadas processos certidão emitida bloqueado permanentemente mesmo SUPER_ADMIN preservando integridade dados históricos operações lote aprovar cinquenta unidades simultaneamente importar duzentos titulares via CSV exportar shapefile comunidade inteira requerem permissão bulk_operations adicional evitando usuários sem treinamento adequado executem ações massivas podem corromper dados sobrecarregar sistema atribuição roles segue política menor privilégio novos usuários criados recebem inicialmente role FIELD_AGENT devendo promovidos explicitamente ADMIN após treinamento validação competência promoção FIELD_AGENT para ANALYST requer aprovação MANAGER conclusão curso capacitação análise técnica jurídica regularização fundiária promoção ANALYST para MANAGER requer aprovação ADMIN histórico mínimo seis meses sistema taxa aprovação unidades superior noventa e cinco por cento taxa rejeição erros inferior cinco por cento atribuição role ADMIN restrita funcionários efetivos órgão público responsável tenant vínculo empregatício comprovado aprovação gestor hierárquico superior atribuição role SUPER_ADMIN exclusiva equipe técnica fornecedor sistema suporte infraestrutura troubleshooting sendo revogada automaticamente após encerramento contrato manutenção.

Auditoria uso permissões críticas registra log imutável todas execuções ações sensíveis incluindo timestamp identificação usuário IP origem role momento ação parâmetros operação resultado sucesso falha operações aprovação rejeição unidades processos certidões registram adicionalmente justificativa textual obrigatória fornecida usuário referências documentos pareceres embasaram decisão permitindo rastreabilidade completa prestação contas tentativas acesso negado falta permissão registradas log separado security events alertas automáticos ADMIN quando mesmo usuário tenta acessar recursos não autorizados mais cinco vezes uma hora indicando possível tentativa escalação privilégios acesso indevido modificações roles usuários registradas before after values identificando quem concedeu revogou permissão quando qual justificativa administrativa fornecida garantindo accountability toda cadeia autorização.

Relacionado domain model UserRole value object cinco roles enum Account entity role field eventos RoleChangedEvent auditoria mudanças permissões verificadas cada endpoint antes executar ação implementações backend .NET frontend React.

---

**Última atualização:** 2026-01-11
**Status do arquivo**: Pronto
