# SurveyProcessing (Processamento de Levantamento GPS)

Entidade representando job de pós-processamento diferencial de dados GPS brutos usando estações de referência RBMC para melhorar acurácia de metros para centímetros em levantamentos topográficos profissionais. Campos conceituais incluem identificador único global, surveyor_id referenciando topógrafo responsável pelo processamento, rbmc_station_id referenciando estação RBMC utilizada como base de referência, raw_data_path caminho onde arquivo bruto de observações GNSS está armazenado (formato RINEX ou proprietário do receptor GPS coletado em campo), processed_data_path caminho onde resultados processados são salvos (coordenadas corrigidas e relatório de qualidade), processing_software nome e versão do software utilizado para processamento diferencial (genérico sem especificar marca), processing_date timestamp de quando processamento foi executado, h_precision_cm precisão horizontal atingida em centímetros após processamento (valor típico 1-5cm para levantamento survey-grade), v_precision_cm precisão vertical atingida em centímetros para altitude (geralmente 2-3x pior que horizontal devido geometria de satélites), status enum indicando resultado do processamento (PENDING aguardando execução, PROCESSING em andamento, SUCCESS completado com precisão adequada, FAILED falha por dados insuficientes ou qualidade ruim, REQUIRES_REVIEW completado mas precisão abaixo do esperado requerendo revisão do topógrafo), report_path caminho para relatório técnico PDF gerado automaticamente contendo estatísticas de processamento (DOP médio, número de satélites, RMS de resíduos, baseline length até RBMC, ambiguity resolution success rate), e metadados de auditoria. Relacionamentos incluem foi executado por Surveyor (N:1 responsabilidade técnica), utilizou RbmcStation como referência (N:1 estação IBGE mais próxima do levantamento), processou múltiplos SurveyPoints do mesmo levantamento (1:N onde cada ponto tem coordenadas atualizadas com valores corrigidos após processamento bem-sucedido), e gera DescriptiveMemorial técnico quando aprovado (1:1 opcional memorial usa coordenadas processadas). Regras de negócio estabelecem que estação RBMC selecionada deve estar a menos de 300km dos pontos coletados idealmente (distâncias maiores degradam correção troposférica e ionosférica reduzindo acurácia final), arquivo bruto raw_data_path deve conter observações de fase de portadora (carrier phase) com duração mínima de 5 minutos por ponto para processamento estático e 15-30 minutos para precisão centimétrica consistente, dados RINEX da estação RBMC devem estar disponíveis para mesmo período de coleta (sistema baixa automaticamente via URL configurada em RbmcStation ou alerta se indisponível), processamento só pode iniciar quando ambos arquivos (receptor móvel e estação RBMC) estão disponíveis e cobrem intervalo temporal comum, status SUCCESS só é definido quando h_precision_cm ≤5cm e v_precision_cm ≤10cm atendendo normas técnicas para georreferenciamento de imóveis urbanos, status REQUIRES_REVIEW indica que processamento convergiu mas precisão ficou entre 5-15cm requerendo decisão do topógrafo se aceita ou refaz levantamento, e status FAILED ocorre quando ambiguidades inteiras não resolvem, dados têm gaps significativos (mais de 20% de epochs perdidas), ou distância até RBMC excede limite recomendado. Workflow típico inicia com topógrafo subindo arquivo bruto GNSS coletado em campo via interface web ou API, sistema cria SurveyProcessing com status PENDING e seleciona automaticamente RbmcStation mais próxima calculando distância até centroid dos pontos coletados, job assíncrono de processamento inicia baixando dados RINEX da RBMC para período correspondente via FTP do IBGE, software de pós-processamento diferencial executa (configurado para processar observações de dupla frequência L1/L2 se disponível, resolve ambiguidades inteiras usando algoritmo LAMBDA ou similar, calcula baseline 3D entre estação RBMC e receptor móvel), sistema parseia output extraindo coordenadas corrigidas e estatísticas de precisão, atualiza SurveyPoints correspondentes com novos valores de latitude longitude altitude e h_accuracy refletindo precisão atingida, gera relatório técnico PDF automaticamente listando parâmetros de processamento (baseline length, número de satélites usados por epoch, PDOP médio, RMS de resíduos pós-ajustamento), marca status como SUCCESS ou REQUIRES_REVIEW ou FAILED conforme precisão atingida, e notifica topógrafo via email ou dashboard com link para baixar relatório. Topógrafo revisa relatório validando que precisão é adequada para finalidade do levantamento, inspeciona gráficos de resíduos buscando outliers ou padrões indicando problemas (ciclo-slips não corrigidos, multipath severo), decide aprovar marcando SurveyPoints como status APPROVED se tudo correto ou rejeitar marcando REJECTED se precisão insuficiente requerendo nova coleta em campo com receptor melhor ou observação mais longa. Sistema suporta reprocessamento quando necessário criando novo SurveyProcessing job referenciando mesmo raw_data_path mas usando parâmetros diferentes (RBMC alternativa, período de observação filtrado removendo início/fim com geometria ruim), preserva histórico completo de tentativas permitindo rastreabilidade de qual processamento gerou coordenadas finais aprovadas, e integra com DescriptiveMemorial extraindo coordenadas processadas formatando tabela NBR padrão listando vértices do perímetro com azimutes e distâncias calculadas a partir de coordenadas de alta precisão. Sistema pode implementar cache de dados RINEX das estações RBMC mais usadas reduzindo tempo de download em processamentos subsequentes, validação de qualidade automatizada alerta se DOP médio excedeu 6 (geometria ruim), menos de 50% de ambiguidades resolvidas (solução float ao invés de fixed degradando precisão), ou RMS de resíduos excede 5cm indicando problemas nos dados brutos, e futuramente pode suportar processamento PPP (Precise Point Positioning) como alternativa quando nenhuma RBMC está próxima processando contra efemérides precisas de satélites sem estação de referência mas requerendo observação longa de horas para convergência adequada.

**Módulos:** GEOAPI, GEOWEB, REURBCAD, GEOGIS

---

**Última atualização:** 2026-01-10
**Status do arquivo**: Pronto
