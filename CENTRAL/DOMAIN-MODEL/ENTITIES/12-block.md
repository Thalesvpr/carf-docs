# Block (Quadra Urbana)

Entidade representando quadra urbana subdividindo geograficamente uma comunidade em agrupamentos menores facilitando organização espacial e localização de unidades habitacionais. Campos conceituais incluem identificador único global, community_id referenciando comunidade à qual quadra pertence, código alfanumérico identificador único dentro da comunidade (Q1, Q2, QUADRA-A, SETOR-01) usado para referência rápida em campo e documentos, nome descritivo opcional complementando código (Quadra Central, Setor Residencial Norte), geometria espacial opcional representando perímetro da quadra como polígono geográfico permitindo visualização em mapa e validação de contenção de plots e units, área calculada em metros quadrados derivada da geometria quando presente, observações textuais opcionais para informações adicionais (características do terreno, infraestrutura existente), e metadados de auditoria (criado em atualizado em deletado em). Relacionamentos incluem pertence obrigatoriamente a uma Community (N:1 onde quadra não existe sem comunidade), contém opcionalmente múltiplos Plots lotes individuais (1:N quando sistema de loteamento formal é usado), e indiretamente relaciona-se com Units através de campo opcional unit.block_id permitindo associação direta de unidades a quadras. Regras de negócio estabelecem que código deve ser único dentro da comunidade (não globalmente, permitindo Q1 em Community A e Q1 em Community B), geometria quando preenchida deve estar completamente contida dentro da geometria da Community (validação espacial impedindo quadra extrapolando limites da comunidade), geometria de Plots filhos quando existentes devem estar contidos dentro da geometria da Block (hierarquia espacial validada), código segue convenção alfanumérica simples sem caracteres especiais facilitando referência em campo (validação regex aceita letras números hífens), e soft delete é obrigatório preservando histórico de organização espacial (quadras podem ser reorganizadas mas histórico permanece para rastreabilidade). Workflow típico em áreas urbanas formais inicia com delimitação de quadras baseada em levantamento topográfico ou planta cadastral existente, criação de registros Block com geometrias definidas e códigos sequenciais, subdivisão opcional de quadras em Plots lotes individuais para parcelamento formal, e vinculação de Units a Blocks facilitando busca e relatórios por setor (quantas unidades na Quadra 5). Workflow em áreas informais ou rurais pode omitir Blocks completamente deixando Units diretamente associadas a Community sem intermediário, refletindo realidade de ocupação sem organização formal em quadras, sistema suporta ambos os modelos (com ou sem Blocks) através de relacionamento opcional. Geometria de Block é útil em análises espaciais (densidade habitacional por quadra, sobreposição com zonas de risco, planejamento de infraestrutura) mas não é obrigatória permitindo cadastro simplificado baseado apenas em códigos quando levantamento geométrico não está disponível. Futuramente sistema pode gerar Blocks automaticamente a partir de clustering espacial de Units (algoritmo agrupa unidades próximas em quadras virtuais para organização), e permitir importação de Blocks via shapefile de loteamento oficial facilitando integração com cadastros municipais existentes.

**Módulos:** GEOAPI, GEOWEB, REURBCAD, GEOGIS

---

**Última atualização:** 2026-01-10
