# UnitCreatedEvent

Domain event emitido por Unit aggregate root imediatamente após criação bem-sucedida de nova unidade habitacional representando fato de negócio significativo que unidade foi registrada no sistema permitindo inicialização de recursos relacionados e notificação de partes interessadas. Payload do evento contém identificador único da unidade criada permitindo subscribers localizarem entity completa se necessário, identificador da comunidade à qual unidade pertence facilitando agregação por localização geográfica, identificador do tenant para isolamento multi-tenant em event handlers, código legível da unidade útil para exibição em notificações, identificador do Account criador rastreando responsabilidade, status inicial tipicamente DRAFT indicando que unidade requer validação, e timestamp UTC quando unidade foi criada para ordenação temporal de eventos. Event handlers subscribers processam evento de forma desacoplada executando side effects como enviar notificação para técnico de campo informando que nova unidade foi cadastrada e aguarda validação, criar entrada em timeline de auditoria registrando criação para compliance e rastreabilidade, invalidar cache de listagem de unidades da comunidade forçando refresh em próxima query, inicializar recursos relacionados como criar pasta de armazenamento para documentos anexos da unidade, incrementar contador de unidades pendentes em dashboard de métricas atualizando estatísticas em tempo real, e disparar webhook para sistemas externos integrados notificando sobre nova unidade disponível. Motivação do evento permite comunicação desacoplada entre aggregates onde criar Unit não precisa conhecer detalhes de sistema de notificações ou métricas, garante eventual consistency onde mudanças propagam assincronamente sem bloquear transação principal, facilita auditoria completa preservando histórico de quando cada unidade foi criada independente de modificações posteriores, e habilita event sourcing onde reconstruir estado do sistema envolve replay de todos UnitCreatedEvent seguidos de eventos subsequentes. Regras de processamento estabelecem que evento é despachado apenas após SaveChanges bem-sucedido garantindo que unidade realmente foi persistida antes de notificar, handlers executam fora de transação original prevenindo que falha em handler reverta criação da unidade, falha em handler individual não impede outros handlers de processar evento garantindo resiliência, e eventos podem ser processados múltiplas vezes exigindo idempotência em handlers para evitar side effects duplicados como enviar mesma notificação várias vezes.

**Módulos:** GEOAPI, GEOWEB, REURBCAD, GEOGIS

---

**Última atualização:** 2026-01-10
