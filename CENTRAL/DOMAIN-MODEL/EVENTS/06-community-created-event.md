# CommunityCreatedEvent

Domain event emitido por Community aggregate root imediatamente após criação bem-sucedida de nova comunidade ou assentamento representando fato que área geográfica de regularização foi estabelecida no sistema permitindo inicialização de recursos e configurações específicas para gestão territorial. Payload do evento contém identificador único da comunidade criada, nome descritivo da comunidade facilitando identificação humana, código identificador legível opcional, município ao qual comunidade pertence essencial para isolamento geográfico de dados, identificador do tenant instituição responsável pela regularização, identificador do Account criador rastreando responsabilidade administrativa, tipo de comunidade (URBANA RURAL QUILOMBOLA INDIGENA RIBEIRINHA) categorizando para aplicação de legislação específica, geometria boundary opcional delimitando perímetro espacial da área, e timestamp UTC quando comunidade foi criada para ordenação cronológica. Event handlers subscribers processam evento executando side effects desacoplados como criar estrutura de pastas em storage para armazenar documentos anexos fotos e plantas da comunidade organizando arquivos hierarquicamente, indexar comunidade em sistema de busca fulltext permitindo localização rápida por nome município ou código, inicializar configurações padrão específicas para tipo de comunidade aplicando templates de workflows e requisitos documentais conforme modalidade REURB, criar primeira CommunityAuthorization concedendo acesso ao Account criador garantindo que comunidade não fica órfã sem ninguém autorizado, enviar notificação para gestores de regularização fundiária informando sobre nova área de trabalho disponível com link direto para visualização, registrar em audit trail criação para compliance rastreando quando e por quem cada comunidade foi estabelecida, atualizar dashboard de métricas incrementando contador de comunidades ativas por município atualizando estatísticas consolidadas, e disparar webhook para sistemas externos integrados notificando sobre nova área de regularização disponível para sincronização de dados cadastrais ou geográficos. Motivação do evento permite inicialização automatizada de recursos complexos onde criar Community não precisa conhecer detalhes de sistema de storage ou indexação mantendo separation of concerns, facilita multi-tenancy onde cada tenant pode ter configurações distintas de workflows aplicadas via handler específico sem hardcode no aggregate, habilita eventual consistency onde índices de busca e estatísticas são atualizados assincronamente sem bloquear criação principal garantindo performance, e suporta event sourcing onde histórico completo de communities criadas é preservado permitindo análise temporal de expansão de áreas de regularização. Regras de processamento estabelecem que evento é despachado apenas após SaveChanges bem-sucedido garantindo que Community entity foi persistida com sucesso antes de inicializar recursos dependentes, handlers podem falhar sem reverter criação da comunidade mas registram erro para retry manual evitando perda de dados, criação de CommunityAuthorization inicial pode ser executada dentro de mesma transação garantindo atomicidade mas outros side effects são assíncronos, e idempotência é crítica especialmente para criação de estrutura de pastas prevenindo duplicação de recursos em caso de reprocessamento de evento.

**Módulos:** GEOAPI, GEOWEB, REURBCAD, GEOGIS

---

**Última atualização:** 2026-01-10
