# Keycloak Docker Compose - Environment Variables
# Copiar para .env e alterar valores

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================

# Nome do banco de dados
POSTGRES_DB=keycloak

# Usu√°rio do banco
POSTGRES_USER=keycloak

# Senha do banco (‚ö†Ô∏è ALTERAR EM PRODU√á√ÉO)
POSTGRES_PASSWORD=keycloak_secure_password_change_me


# =============================================================================
# KEYCLOAK ADMIN CONSOLE
# =============================================================================

# Username do admin Keycloak
KEYCLOAK_ADMIN=admin

# Senha do admin (‚ö†Ô∏è ALTERAR EM PRODU√á√ÉO)
KEYCLOAK_ADMIN_PASSWORD=admin_secure_password_change_me


# =============================================================================
# KEYCLOAK DATABASE CONNECTION
# =============================================================================

# Tipo de banco (postgres, mysql, mariadb, mssql)
KC_DB=postgres

# JDBC URL do banco
KC_DB_URL=jdbc:postgresql://keycloak-db:5432/keycloak

# Usu√°rio do banco (mesmo que POSTGRES_USER)
KC_DB_USERNAME=keycloak

# Senha do banco (mesmo que POSTGRES_PASSWORD)
KC_DB_PASSWORD=keycloak_secure_password_change_me


# =============================================================================
# KEYCLOAK SERVER
# =============================================================================

# Hostname p√∫blico do Keycloak
# Desenvolvimento: localhost
# Produ√ß√£o: keycloak.carf.example.com
KC_HOSTNAME=localhost

# For√ßar hostname strict (true em produ√ß√£o)
KC_HOSTNAME_STRICT=false

# Habilitar HTTP (true apenas em dev)
KC_HTTP_ENABLED=true

# Proxy mode (edge, reencrypt, passthrough)
# edge = proxy termina SSL
KC_PROXY=edge

# Porta externa Keycloak HTTP
KEYCLOAK_PORT=8080

# Porta externa Keycloak HTTPS
KEYCLOAK_HTTPS_PORT=8443


# =============================================================================
# LOGGING
# =============================================================================

# Log level (all, debug, info, warn, error, fatal, off)
KC_LOG_LEVEL=info


# =============================================================================
# PRODU√á√ÉO - Configura√ß√µes Adicionais
# =============================================================================

# Descomentar e configurar para produ√ß√£o:

# SSL/TLS Certificate
# KC_HTTPS_CERTIFICATE_FILE=/path/to/cert.pem
# KC_HTTPS_CERTIFICATE_KEY_FILE=/path/to/key.pem

# Trust store (para HTTPS)
# KC_TRUSTSTORE_PATHS=/path/to/truststore.p12
# KC_TRUSTSTORE_PASSWORD=password

# SMTP (Email)
# KC_SPI_EMAIL_TEMPLATE_PROVIDER=freemarker
# KC_SPI_EMAIL_TEMPLATE_FREEMARKER_ENABLED=true


# =============================================================================
# OBSERVABILIDADE (Opcional)
# =============================================================================

# Metrics endpoint
# KC_METRICS_ENABLED=true

# Health check endpoint
# KC_HEALTH_ENABLED=true

# Tracing (Jaeger, OTLP)
# KC_TRACING_ENABLED=false
# KC_TRACING_ENDPOINT=http://jaeger:4317


# =============================================================================
# CUSTOM PROVIDERS (Opcional)
# =============================================================================

# Diret√≥rio de providers customizados
# KC_SPI_PROVIDERS_PATH=/opt/keycloak/providers


# =============================================================================
# NOTAS
# =============================================================================

# ‚ö†Ô∏è IMPORTANTE:
# 1. NUNCA commite .env com senhas reais
# 2. Em produ√ß√£o, use senhas fortes (20+ caracteres)
# 3. Use secrets manager (AWS Secrets, Azure Key Vault, etc)
# 4. Habilite HTTPS em produ√ß√£o (KC_HTTP_ENABLED=false)
# 5. Configure backups autom√°ticos do PostgreSQL

# üîê Gerar senhas seguras:
# openssl rand -base64 32
# pwgen -s 32 1

# üìö Documenta√ß√£o:
# https://www.keycloak.org/server/all-config
