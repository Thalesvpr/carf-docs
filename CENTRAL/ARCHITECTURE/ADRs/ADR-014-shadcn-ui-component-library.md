# ADR-014: Escolha do shadcn/ui + Radix UI como Component Library

Decisão arquitetural escolhendo shadcn/ui baseado em Radix UI como biblioteca de componentes para frontends React (GEOWEB ADMIN @carf/ui) justificada por abordagem copy-paste ao invés de NPM dependency permitindo customização completa de componentes sem eject ou fork mantendo controle total sobre código e possibilitando ajustes específicos de UX/UI conforme requisitos de prefeituras sem limitações de biblioteca externa, acessibilidade WAI-ARIA compliant out-of-the-box através de Radix UI primitives garantindo keyboard navigation screen reader support focus management conforme WCAG 2.1 AA exigido para sistemas governamentais brasileiros acessíveis a pessoas com deficiências, headless architecture de Radix separando lógica de apresentação permitindo styling com Tailwind CSS mantendo design system consistente sem CSS-in-JS overhead ou runtime styling costs melhorando performance, composability de primitivos permitindo criar variantes complexas (ex: ComboBox = Popover + Command + Input) reutilizando building blocks testados e mantidos, type safety completo com TypeScript garantindo props corretos em compile-time reduzindo bugs de runtime, zero dependencies conflitantes pois componentes são copiados para codebase eliminando version conflicts de peer dependencies comuns em libraries monolíticas como Material-UI, e comunidade ativa com 40k+ stars GitHub e adoção por Vercel Linear Shadcn indicando qualidade e longevidade.

Radix UI especificamente fornece primitivos para Accordion AlertDialog Checkbox Dialog DropdownMenu Popover RadioGroup Select Slider Switch Tabs Toast Tooltip todos acessíveis e customizáveis, shadcn/ui adiciona layer de styling Tailwind sobre esses primitivos criando componentes prontos (Button Card Form Input Label Select) copiáveis via CLI `npx shadcn-ui add button` instalando apenas componentes necessários evitando bundle bloat.

Alternativas consideradas incluem Material-UI/MUI (rejeitado por bundle size enorme ~300KB gzipped devido a emotion styling runtime performance inferior em low-end devices e dificuldade de customização profunda sem override complexo de theme), Ant Design (rejeitado por design language opinionado inadequado para white-labeling de prefeituras e bundle size similar a MUI), Chakra UI (rejeitado por runtime CSS-in-JS degradando performance e migração recente para Panda CSS introduzindo incerteza), Mantine (rejeitado por menor maturidade e ecosystem comparado a Radix), Headless UI (considerado mas shadcn/ui oferece mais componentes prontos sobre mesma foundation), e implementação custom from scratch (rejeitado por overhead enorme de implementar acessibilidade corretamente reinventando wheel).

Consequências positivas incluem bundle size mínimo com tree-shaking perfeito pois apenas componentes usados são incluídos, performance excelente sem runtime styling overhead, customização ilimitada editando componentes copiados diretamente, acessibilidade garantida por Radix experts reduzindo risco legal, consistência visual através de design system Tailwind compartilhado, e developer experience superior com CLI facilitando adição de novos componentes. Consequências negativas incluem necessidade de sync manual com upstream shadcn/ui para receber updates de componentes (mitigado com git diff seletivo), código duplicado entre GEOWEB/ADMIN/@carf/ui exigindo abstração em shared library para evitar drift, curva de aprendizado de Tailwind CSS para desenvolvedores não familiarizados, e ausência de componentes complexos prontos (DataTable com server-side pagination exige implementação customizada usando building blocks).

Configuração específica utiliza shadcn/ui com theme customizado em tailwind.config.ts definindo cores primárias secundárias borders radius conforme design system CARF, components em `components/ui/` copiados via CLI e modificados conforme necessário, cn() utility para merge de classes Tailwind evitando conflicts, clsx + tailwind-merge garantindo precedence correto de classes, e Storybook documentando componentes da @carf/ui library compartilhada entre projetos.

Status da decisão é aprovado e implementado desde início do projeto em 2024-Q3, com revisão prevista se Radix introduzir breaking changes significativos ou se surgir alternativa headless superior.

---

**Data:** 2025-01-10
**Status:** Aprovado e Implementado
**Decisor:** Equipe de Arquitetura + Frontend + UX
**Última revisão:** 2025-01-10
**Última atualização:** 2026-01-15
**Status do arquivo**: Pronto
