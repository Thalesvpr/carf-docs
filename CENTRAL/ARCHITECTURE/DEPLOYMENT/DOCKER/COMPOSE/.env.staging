# Staging Environment Variables
# IMPORTANT: Replace all placeholder values with actual secure values
# Consider using Azure Key Vault or AWS Secrets Manager for production secrets

# PostgreSQL
POSTGRES_DB=carf_staging
POSTGRES_USER=<REPLACE_WITH_SECURE_USERNAME>
POSTGRES_PASSWORD=<REPLACE_WITH_SECURE_PASSWORD>

# Keycloak
KEYCLOAK_DB=keycloak_staging
KEYCLOAK_ADMIN=<REPLACE_WITH_ADMIN_USERNAME>
KEYCLOAK_ADMIN_PASSWORD=<REPLACE_WITH_SECURE_ADMIN_PASSWORD>
KEYCLOAK_HOSTNAME=keycloak.staging.carf.example.com

# RabbitMQ
RABBITMQ_USER=<REPLACE_WITH_RABBITMQ_USER>
RABBITMQ_PASS=<REPLACE_WITH_SECURE_PASSWORD>

# JWT Secret (256-bit base64 encoded)
# Generate with: openssl rand -base64 32
JWT_SECRET=<REPLACE_WITH_256_BIT_BASE64_KEY>

# CORS Origins (comma-separated)
CORS_ORIGINS=https://staging.carf.example.com,https://geoweb.staging.carf.example.com

# Sentry
SENTRY_DSN=<REPLACE_WITH_SENTRY_DSN>
SENTRY_DSN_FRONTEND=<REPLACE_WITH_SENTRY_FRONTEND_DSN>

# Google Analytics
GA_ID=<REPLACE_WITH_GA_ID>

# Log Level
LOG_LEVEL=info

# Feature Flags
ENABLE_SWAGGER=true
ENABLE_AUDIT_LOG=true
FEATURE_FLAG_OFFLINE_SYNC=true

# File Upload
FILE_UPLOAD_MAX_SIZE_MB=50

# External APIs
GEOCODING_API_URL=https://nominatim.openstreetmap.org
GEOCODING_API_KEY=<REPLACE_IF_USING_GOOGLE_MAPS>
SERPRO_CPF_API_URL=https://gateway.apiserpro.serpro.gov.br/consulta-cpf-df/v1
SERPRO_CLIENT_ID=<REPLACE_WITH_SERPRO_CLIENT_ID>
SERPRO_CLIENT_SECRET=<REPLACE_WITH_SERPRO_CLIENT_SECRET>

# SMTP
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USERNAME=apikey
SMTP_PASSWORD=<REPLACE_WITH_SENDGRID_API_KEY>
SMTP_FROM_EMAIL=noreply@staging.carf.example.com

# S3/Storage
S3_BUCKET_NAME=carf-staging-storage
S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=<REPLACE_WITH_AWS_ACCESS_KEY>
AWS_SECRET_ACCESS_KEY=<REPLACE_WITH_AWS_SECRET_KEY>

# Redis
REDIS_PASSWORD=<REPLACE_WITH_REDIS_PASSWORD>

# Timeouts
DATABASE_COMMAND_TIMEOUT=60
API_TIMEOUT_MS=60000

# Session
SESSION_TIMEOUT_MINUTES=30

# Environment
ASPNETCORE_ENVIRONMENT=Staging
NODE_ENV=production

# Database URLs (constructed from above)
DATABASE_URL=postgres://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

# API URLs
API_BASE_URL=https://api.staging.carf.example.com
KEYCLOAK_URL=https://keycloak.staging.carf.example.com
FRONTEND_URL=https://staging.carf.example.com

# Notes:
# - Never commit this file with actual values to version control
# - Use .env.staging.example as template
# - In production, use Azure Key Vault or AWS Secrets Manager
# - Rotate secrets quarterly
# - Use strong passwords (min 16 characters, mixed case, numbers, symbols)
# - Enable MFA for admin accounts
# - Review and update CORS_ORIGINS to only allow trusted domains
