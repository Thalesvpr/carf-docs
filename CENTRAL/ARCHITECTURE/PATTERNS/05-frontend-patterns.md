# Frontend Patterns

Padrões frontend do GEOWEB React e ADMIN Next.js seguindo arquitetura component-based e state management centralizado com code sharing via biblioteca @carf/tscore. Component patterns usando function components com hooks (useState, useEffect, useContext), compound components encapsulando UI complexas (FormField com Label + Input + Error), render props para lógica reutilizável, e HOCs para cross-cutting concerns (withAuth, withTenant). State management via Context API para estado global simples (AuthContext, TenantContext) provido por @carf/tscore/auth/react AuthProvider, e TanStack Query (React Query) gerenciando server state com cache automático, invalidação inteligente, optimistic updates (cadastrar unidade mostra imediatamente antes confirmar servidor), retry automático em falhas rede, e prefetching dados navegação antecipada. Form handling com React Hook Form reduzindo re-renders, validação schema Zod integrando value objects @carf/tscore/validations (CPF, CNPJ, Email, Phone) via custom validators garantindo regras negócio brasileiras consistentes cross-projects eliminando duplicação validação lógica, field-level errors inline, e controlled components sincronizados com estado. Routing via React Router v6 (GEOWEB) ou Next.js App Router (ADMIN) com lazy loading routes code-splitting bundles, protected routes usando @carf/tscore/auth/react ProtectedRoute component verificando isAuthenticated e requiredRoles antes renderizar bloqueando acesso não autorizado, nested routes para layouts compartilhados (DashboardLayout envolvendo rotas autenticadas), e breadcrumbs automáticos via route metadata. Type safety garantida por @carf/tscore/types importando interfaces TypeScript domain entities (Unit, Holder, Community, Tenant) sincronizadas com backend .NET garantindo contratos API type-safe em compile-time detectando mismatches campos antes runtime evitando bugs silenciosos null reference errors crashes produção. Performance otimizada com React.memo evitando re-renders desnecessários, useMemo/useCallback memoizando cálculos caros incluindo validations via value objects, virtualization (react-window) renderizando apenas itens visíveis em listas grandes (1000+ unidades), e Suspense boundaries mostrando skeletons durante loading. Error boundaries capturando crashes componentes exibindo fallback UI, logging erros para Sentry, e retry mechanism permitindo usuário tentar novamente.

---

**Última atualização:** 2025-12-30
