---
modules: [GEOAPI, REURBCAD]
epic: scalability
---

# RNF-009: Sincronização Offline - Push

O upload de alterações locais contendo até 100 registros modificados ou criados durante trabalho offline deve ser concluído em até 15 segundos, permitindo que usuários do aplicativo mobile sincronizem rapidamente suas contribuições quando retornam à conectividade, garantindo que os dados coletados em campo sejam prontamente disponibilizados no sistema central. Este requisito aplica-se aos módulos REURBCAD e GEOAPI, onde o aplicativo mobile envia dados modificados localmente através da API para persistência no banco de dados central. A métrica de aceitação estabelece que o tempo de upload deve ser menor ou igual a 15 segundos para conjuntos de até 100 registros, incluindo novos cadastros de unidades, atualizações de dados existentes, fotos anexadas e demais informações coletadas durante o trabalho offline. Os critérios de aceitação incluem a implementação obrigatória de batch upload, onde múltiplos registros são enviados em uma única requisição ou em poucas requisições agrupadas ao invés de enviar cada registro individualmente, reduzindo significativamente o overhead de rede e tempo total de sincronização, a implementação de retry com exponential backoff que automaticamente tenta reenviar dados em caso de falha temporária de rede ou erro no servidor, aumentando progressivamente o intervalo entre tentativas para evitar sobrecarga do servidor e da rede em situações de instabilidade, e a detecção de conflitos que identifica quando o mesmo registro foi modificado tanto localmente quanto no servidor desde a última sincronização, permitindo resolução apropriada através de estratégias como last-write-wins, merge automático ou solicitação de intervenção manual do usuário conforme criticidade dos dados. Este requisito é classificado como Must-have porque a sincronização confiável de dados coletados em campo é essencial para o valor do sistema, onde dados permanecem isolados no dispositivo móvel até serem sincronizados com sucesso, e falhas na sincronização podem resultar em perda de trabalho e retrabalho custoso. A implementação deve considerar validação de dados no cliente antes do upload para detectar problemas antecipadamente e evitar uploads de dados inválidos, compressão do payload durante upload similar ao processo de download, armazenamento de estado de sincronização para rastrear quais registros já foram sincronizados com sucesso e quais ainda precisam ser enviados, implementação de fila de sincronização que processa uploads sequencialmente e mantém registro de falhas para retry posterior, e potencialmente implementar sincronização diferencial onde apenas campos modificados são enviados ao invés do registro completo, reduzindo volume de dados transferidos especialmente para atualizações pequenas em registros grandes.
**Última atualização:** 2026-01-15
**Status do arquivo**: Review
