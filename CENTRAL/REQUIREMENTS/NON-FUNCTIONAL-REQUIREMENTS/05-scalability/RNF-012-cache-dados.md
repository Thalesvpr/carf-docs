---
modules: [GEOAPI, GEOWEB, REURBCAD, GEOGIS]
epic: scalability
---

# RNF-012: Cache de Dados

Dados frequentemente acessados devem ser cacheados utilizando Redis como sistema de cache distribuído, reduzindo carga no banco de dados principal e melhorando significativamente os tempos de resposta para consultas repetidas de informações que não mudam frequentemente. Este requisito aplica-se ao módulo GEOAPI, onde diversos tipos de dados são candidatos ideais para caching incluindo listagens de entidades, estatísticas agregadas e resultados de queries complexas. As métricas de aceitação estabelecem que a taxa de acerto de cache (hit rate) deve ser de 70% ou superior, indicando que pelo menos 70% das requisições podem ser atendidas diretamente do cache sem necessidade de acessar o banco de dados, e que o TTL (Time To Live) deve ser configurável por tipo de dado permitindo ajustes finos baseados nas características de cada informação. Os critérios de aceitação incluem implementação de cache para listagens de dados com TTL de 5 minutos, balanceando a necessidade de dados atualizados com os benefícios de performance do caching, sendo que este tempo é adequado para listagens onde pequenos atrasos na visualização de dados recém-criados são aceitáveis, cache de estatísticas e dashboards com TTL de 15 minutos reconhecendo que dados agregados não precisam ser atualizados em tempo real e que sua geração é computacionalmente mais custosa, e implementação obrigatória de invalidação de cache quando dados subjacentes são modificados através de operações de criação, atualização ou exclusão, garantindo que usuários não visualizem dados desatualizados após realizar modificações. Este requisito é classificado como Should-have porque embora caching melhore significativamente a performance e escalabilidade do sistema, o sistema pode funcionar adequadamente sem cache em cenários de carga moderada, sendo que o cache torna-se crítico apenas em situações de alto volume de acessos. A implementação deve considerar uso de cache-aside pattern onde a aplicação verifica o cache primeiro e consulta o banco apenas em caso de miss, implementação de cache keys estruturadas que incluem informação de tenant, tipo de entidade e parâmetros de query para evitar colisões e permitir invalidação granular, uso de cache tags ou namespaces para facilitar invalidação em lote de dados relacionados, implementação de warming do cache para dados críticos que são pré-carregados em momentos de baixa carga, e monitoramento contínuo de métricas de cache como hit rate, miss rate, evictions e latência para identificar oportunidades de otimização e detectar problemas como cache stampede ou invalidação excessiva.
