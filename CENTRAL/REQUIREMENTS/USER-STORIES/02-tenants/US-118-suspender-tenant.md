---
modules: [GEOAPI, GEOWEB, REURBCAD]
epic: security
---

# US-118: Suspender Tenant

Como super administrador responsável por compliance e segurança da plataforma, quero suspender acesso de tenant específico para que bloquear temporariamente acesso por inadimplência financeira, violação de termos de uso, atividade suspeita de segurança, ou manutenção emergencial seja possível, protegendo integridade da plataforma e outros tenants enquanto preserva dados do inquilino suspenso para possível reativação futura. A funcionalidade deve implementar operação de suspensão transitando tenant de status ACTIVE para SUSPENDED, bloqueando imediatamente todas as operações ativas incluindo invalidação de todos os tokens de autenticação de usuários do tenant forçando logout imediato, bloqueio de novos logins impedindo acesso à plataforma, desabilitação de operações de escrita (criação, edição, exclusão de dados), e suspensão de jobs em background como exportações, backups agendados ou processamentos assíncronos. O sistema deve permitir configuração de nível de suspensão incluindo suspensão leve mantendo acesso read-only para administradores do tenant consultarem dados, suspensão padrão bloqueando completamente acesso mas mantendo dados intactos e APIs externas funcionais para integração, ou suspensão completa desativando inclusive APIs e agendando purga de dados após período de grace (exemplo: 90 dias). A operação deve registrar motivo da suspensão através de campo obrigatório selecionando categoria (PAYMENT_OVERDUE para inadimplência, TERMS_VIOLATION para violação de termos, SECURITY_INCIDENT para incidente de segurança, MAINTENANCE para manutenção programada, OTHER com justificativa livre) e texto descritivo detalhado que será exibido para administradores do tenant ao tentarem acessar sistema. Audit log global deve registrar operação incluindo identificação do super administrador executor, tenant afetado, timestamp, motivo categorizado e descritivo, configurações de nível de suspensão aplicadas, e estimativa de duração quando aplicável. Notificação automática deve ser enviada a todos os administradores do tenant suspenso via email informando sobre suspensão, motivo oficial, passos necessários para resolução de pendências, prazo para regularização quando aplicável, e contato de suporte para esclarecimentos. A interface deve exibir mensagem clara e profissional aos usuários do tenant suspenso ao tentarem acessar sistema explicando situação e orientando sobre procedimentos de reativação. Os critérios de aceitação incluem endpoint implementado aceitando POST /api/tenants/{id}/suspend com payload contendo motivo, nível de suspensão e descrição detalhada, validação rigorosa de permissões garantindo que apenas super administradores possam suspender tenants, tratamento adequado de erros incluindo tenant não encontrado, tenant já suspenso ou operação não autorizada, documentação OpenAPI descrevendo níveis de suspensão, categorias de motivos e workflow de resolução, e testes unitários e de integração validando transição de estados, invalidação de sessões, bloqueios de acesso, notificações e registro em audit log. Esta User Story está relacionada ao RF-031 e é implementada através do endpoint POST /api/tenants/{id}/suspend no backend GEOAPI com propagação imediata de bloqueios e notificações assíncronas, e painel administrativo global no frontend GEOWEB com formulário de suspensão incluindo seleção de motivo e nível, pertencendo ao Epic 11: Administração. O status atual é proposed, com endpoint existente mas documentação formal criada posteriormente.

---

**Última atualização:** 2025-12-30
**Status do arquivo**: Pronto
