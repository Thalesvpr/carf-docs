---
modules: [GEOAPI, GEOWEB]
epic: security
---

# US-117: Reativar Tenant

Como super administrador gerenciando ciclo de vida de inquilinos, quero reativar tenant previamente suspenso para que restaurar acesso completo seja possível após resolução de pendências financeiras, regularização de violações de termos de uso, ou conclusão de período de suspensão temporária, permitindo que organização retome operações normais no sistema. A funcionalidade deve implementar operação de reativação transitando tenant de status SUSPENDED para ACTIVE, restaurando todas as funcionalidades previamente bloqueadas incluindo login de usuários do tenant, acesso a dados cadastrados (unidades, comunidades, documentos), operações de escrita (criação, edição, exclusão de registros), e funcionalidades avançadas como exportações e relatórios. O sistema deve executar validações antes de permitir reativação verificando se todas as pendências que motivaram suspensão foram resolvidas (exemplo: pagamento de faturas em atraso, aceite de novos termos de uso, conclusão de auditoria de segurança), se limites contratuais estão adequados para ativação (quota de usuários, armazenamento), e se não há flags de segurança impeditivas (conta comprometida, atividade fraudulenta detectada). A operação deve ser registrada detalhadamente em audit log global incluindo identificação do super administrador que executou reativação, tenant afetado, timestamp preciso da operação, motivo da reativação quando informado, e estado anterior do tenant para rastreabilidade completa. Notificação automática deve ser enviada a administradores do tenant reativado informando sobre restauração de acesso, destacando qualquer mudança em termos contratuais ou configurações que tenha ocorrido durante período de suspensão, e orientando sobre primeiros passos para retomada de operações. O sistema deve executar procedimentos de pós-reativação incluindo validação de integridade de dados do tenant verificando consistência após período de inatividade, atualização de índices de busca e caches para incluir tenant reativado, e monitoramento reforçado nas primeiras 48 horas para detectar problemas decorrentes da reativação. Os critérios de aceitação incluem endpoint implementado aceitando POST /api/tenants/{id}/activate com validação de pré-requisitos para reativação, validação rigorosa de permissões garantindo que apenas super administradores possam reativar tenants, tratamento adequado de erros incluindo tenant não encontrado, tenant já ativo ou pendências não resolvidas impedindo reativação, documentação OpenAPI descrevendo pré-requisitos, processo de reativação e efeitos da operação, e testes unitários e de integração validando transição de estados, validações de negócio, notificações e registro em audit log. Esta User Story está relacionada ao RF-032 e é implementada através do endpoint POST /api/tenants/{id}/activate no backend GEOAPI com workflow de validações e notificações, e painel administrativo global no frontend GEOWEB com formulário de reativação incluindo checklist de pendências, pertencendo ao Epic 11: Administração. O status atual é proposed, com endpoint existente mas documentação formal criada posteriormente.

---

**Última atualização:** 2025-12-30
**Status do arquivo**: Pronto
