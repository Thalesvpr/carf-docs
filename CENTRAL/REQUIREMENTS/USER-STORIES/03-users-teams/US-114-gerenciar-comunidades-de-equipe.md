---
modules: [GEOAPI, GEOWEB]
epic: maintainability
---

# US-114: Gerenciar Comunidades de Equipe

Como gerente de projeto responsável por organização territorial do trabalho, quero associar equipes técnicas a comunidades específicas para que delimitar área de atuação de cada equipe seja possível, implementando segregação de responsabilidades geográficas onde equipes trabalham em comunidades designadas, evitando conflitos de edição, garantindo especialização territorial, e facilitando rastreamento de produtividade por equipe. A funcionalidade deve permitir associação de equipe a uma ou múltiplas comunidades estabelecendo vínculo de responsabilidade onde membros da equipe automaticamente recebem permissões de acesso às unidades habitacionais, documentos e processos de legitimação das comunidades vinculadas. O sistema deve implementar operação de adição de comunidades à equipe onde gerente seleciona equipe e adiciona comunidades por meio de interface de seleção múltipla, com validação impedindo duplicação (comunidade já vinculada à mesma equipe) e verificando permissões do usuário executor para realizar operação. Informações contextuais devem ser apresentadas incluindo estatísticas das comunidades disponíveis para vinculação (quantidade de unidades, área territorial, status de progresso), comunidades já vinculadas à equipe com data de início do vínculo, e distribuição de carga de trabalho mostrando quantas comunidades cada equipe gerencia para balanceamento. A operação deve ser registrada em audit log incluindo identificação do gerente que estabeleceu vínculo, equipe afetada, comunidades adicionadas, timestamp da operação, e propagação automática de permissões para todos os membros atuais da equipe conforme roles definidos. O sistema deve permitir visualização hierárquica mostrando estrutura organizacional de equipes com comunidades subordinadas, membros de cada equipe com roles específicos, e métricas agregadas de produtividade por equipe-comunidade facilitando gestão operacional. Os critérios de aceitação incluem endpoint implementado aceitando POST /api/teams/{id}/communities com array de community_ids para vincular múltiplas simultaneamente, validação de permissões garantindo que apenas gerentes e administradores possam gerenciar vinculações de equipes, tratamento adequado de erros incluindo equipe ou comunidade não encontrada, duplicação de vínculo ou operação não autorizada, documentação OpenAPI descrevendo schema de request e response incluindo validações aplicadas, e testes unitários e de integração validando criação de vínculos, propagação de permissões para membros da equipe e registro em audit log. Esta User Story está relacionada ao RF-033 e é implementada através do endpoint POST /api/teams/{id}/communities no backend GEOAPI com propagação transacional de permissões, e interface de gestão organizacional no frontend GEOWEB com visualização hierárquica, pertencendo ao Epic 2: Cadastro de Unidades. O status atual é proposed, com endpoint existente mas documentação formal criada posteriormente.

---

**Última atualização:** 2025-12-30
