---
modules: [GEOAPI, GEOWEB]
epic: usability
---

# US-111: Listar Comunidades de Usuário

Como gerente responsável por gestão de acessos granulares, quero visualizar quais comunidades um usuário específico tem permissão de acesso para que gerenciar segregação de dados por comunidade seja possível, garantindo que membros da equipe acessem apenas dados das comunidades sob sua responsabilidade, configurar permissões de novos colaboradores, e auditar acessos quando necessário. A funcionalidade deve retornar lista completa de comunidades vinculadas ao usuário especificado incluindo identificação da comunidade com código único, nome oficial, município e estado de localização, e data de criação do cadastro. Para cada comunidade, o sistema deve apresentar tipo de vínculo do usuário indicando se é membro da equipe responsável (team member), supervisor com permissões ampliadas (supervisor), ou observador com acesso somente leitura (read-only), data de concessão do acesso registrando quando vínculo foi estabelecido, e status atual indicando se acesso está ativo, suspenso temporariamente ou revogado. Informações contextuais devem incluir estatísticas básicas da comunidade acessível pelo usuário como quantidade de unidades cadastradas que ele pode visualizar e editar conforme permissões, última atividade do usuário naquela comunidade específica permitindo identificar comunidades ativas versus inativas, e indicador de completude do cadastro da comunidade para priorização de trabalho. A listagem deve suportar ordenação por nome da comunidade, data de criação, ou última atividade, e filtros por município, status de acesso, ou tipo de vínculo, facilitando gestão em cenários com muitas comunidades. Os critérios de aceitação incluem endpoint implementado retornando array de objetos representando comunidades vinculadas ao user_id especificado com todos os campos de identificação, vínculo e contexto, validação de permissões garantindo que apenas administradores ou o próprio usuário possam consultar suas comunidades, tratamento adequado de erros incluindo user_id não encontrado ou usuário sem comunidades vinculadas, documentação OpenAPI descrevendo schema completo de resposta e opções de filtro, e testes unitários e de integração validando listagem correta, filtros e regras de acesso. Esta User Story está relacionada ao RF-025 e é implementada através do endpoint GET /api/accounts/{id}/communities no backend GEOAPI com joins otimizados entre tabelas de usuários, equipes e comunidades, e interface de gestão no frontend GEOWEB com tabela interativa, pertencendo ao Epic 11: Administração. O status atual é proposed, com endpoint existente mas documentação formal criada posteriormente.

---

**Última atualização:** 2025-12-30
**Status do arquivo**: Review
