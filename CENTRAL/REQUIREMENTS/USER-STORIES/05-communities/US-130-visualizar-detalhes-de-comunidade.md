---
modules: [GEOAPI, GEOWEB]
epic: performance
---

# US-130: Visualizar Detalhes de Comunidade

Como Analista quero ver dados completos de uma comunidade para que possa acessar informacoes cadastrais estatisticas demograficas e configuracoes especificas do assentamento, onde o endpoint implementado em GEOAPI expoe a rota /api/communities/{id} retornando objeto Community detalhado com todas as propriedades e relacionamentos relevantes, garantindo validacao de permissoes baseada em roles onde usuarios autenticados podem visualizar apenas comunidades do seu tenant, incluindo tratamento de erro 404 Not Found quando ID da comunidade nao existe e 403 Forbidden quando usuario tenta acessar comunidade de outro tenant, permitindo que a resposta inclua objeto completo com propriedades id name description address city state zipCode country status geometry area population estimatedFamilies mainEconomicActivity createdAt updatedAt createdBy updatedBy e arrays de configuracoes especificas, onde a propriedade geometry contendo GeoJSON Polygon ou MultiPolygon delimita perimetro geografico da comunidade para renderizacao em mapa, garantindo rastreabilidade ao requisito funcional RF-037 que especifica visualizacao de dados de comunidades, incluindo relacionamentos eager loading com entidades associadas como responsavel tecnico coordinatorUser lista de geoservicos configurados e parametros de workflow de aprovacao, permitindo campos computados calculados em tempo de execucao incluindo totalUnits quantidade total de unidades habitacionais, totalBlocks quantidade de quadras, totalPlots quantidade de lotes, totalHolders quantidade de titulares cadastrados e approvalPendingUnits quantidade de unidades aguardando aprovacao, onde a implementacao em GEOAPI utiliza AutoMapper para projecao de entidade de dominio para DTO de resposta incluindo mapeamento de tipos geometricos NetTopologySuite para GeoJSON, garantindo que informacoes sensiveis como credenciais de geoservicos e dados pessoais detalhados de usuarios nao sejam expostas na resposta sendo omitidas na projecao, incluindo suporte a content negotiation para retornar dados em formatos alternativos JSON XML e GeoJSON atraves de header Accept, permitindo que o frontend GEOWEB exiba dashboard da comunidade com mapa de localizacao metricas em cards graficos de distribuicao de unidades por status e linha do tempo de atividades recentes, onde testes unitarios validam mapeamento correto entre entidade de dominio e DTO incluindo calculo de campos computados com datasets mock, garantindo testes de integracao que verificam recuperacao completa de comunidade com relacionamentos eager loading e validacao de isolamento multi-tenant, incluindo testes de performance que validam que query de detalhes executa com numero minimo de round-trips ao banco de dados evitando N+1 queries atraves de uso adequado de Include e projection.

---

**Ultima atualizacao:** 2025-12-30
