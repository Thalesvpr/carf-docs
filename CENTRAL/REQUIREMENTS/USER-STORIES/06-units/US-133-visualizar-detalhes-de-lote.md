---
modules: [GEOAPI, GEOWEB, REURBCAD, GEOGIS]
epic: compatibility
---

# US-133: Visualizar Detalhes de Lote

Como Analista quero ver dados de um lote para que possa acessar informacoes completas do parcelamento incluindo codigo nome geometria area relacionamentos com quadra e unidades habitacionais, onde o endpoint implementado em GEOAPI expoe a rota /api/plots/{id} permitindo consulta detalhada de um lote especifico atraves do identificador unico, garantindo validacao de permissoes baseada em roles onde usuarios autenticados com role Analyst ou superior podem visualizar detalhes de lotes pertencentes ao seu tenant, incluindo tratamento de erro 404 Not Found quando ID informado nao existe ou pertence a outro tenant, permitindo que a resposta inclua objeto Plot completo com propriedades id code name description geometry area status blockId blockCode blockName communityId communityName createdAt updatedAt createdBy updatedBy e array de unidades habitacionais associadas, onde a propriedade geometry retorna GeoJSON Polygon ou MultiPolygon com coordenadas em sistema de referencia EPSG:4326 WGS84 permitindo renderizacao direta em mapas Leaflet OpenLayers ou Mapbox GL, garantindo rastreabilidade ao requisito funcional RF-081 que especifica visualizacao de lotes, incluindo relacionamento eager loading com entidades Block e Community para exibir nome da quadra e comunidade sem necessidade de requisicoes adicionais, permitindo que o frontend GEOWEB renderize painel lateral com informacoes do lote incluindo mapa de localizacao com destaque do poligono lista de unidades habitacionais contidas e estatisticas como area total area ocupada area livre e taxa de ocupacao, onde a implementacao em GEOAPI utiliza Entity Framework Core com Include para carregar relacionamentos de forma eficiente evitando N+1 queries, garantindo que alteracoes na geometria ou status do lote sejam auditadas com rastreamento de usuario responsavel timestamp da modificacao e motivo da alteracao, incluindo calculo em tempo real de metricas agregadas como quantidade de unidades area total ocupada pelas unidades percentual de ocupacao do lote e area disponivel para novas unidades, permitindo validacao de integridade geometrica onde sistema verifica que soma das areas das unidades nao excede area total do lote com tolerancia configuravel para erros de precisao numerica, garantindo export dos dados do lote em formatos JSON GeoJSON Shapefile e KML para uso em sistemas GIS externos e compartilhamento com equipes de campo, onde testes unitarios validam serializacao correta do modelo Plot incluindo conversao de tipos geometricos NetTopologySuite para GeoJSON e calculo de metricas agregadas, garantindo testes de integracao que verificam recuperacao de lote com relacionamentos carregados validacao de isolamento multi-tenant e corretude de calculos de area usando PostGIS.

---

**Ultima atualizacao:** 2025-12-30
**Última atualização:** 2026-01-15
**Status do arquivo**: Review
