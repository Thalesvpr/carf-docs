---
modules: [GEOAPI, GEOWEB, REURBCAD, GEOGIS]
epic: maintainability
---

# US-108: Relatório de Distribuição por Status

Como gerente acompanhando progresso operacional de cadastramento, quero visualizar distribuição quantitativa de unidades habitacionais por status de processamento para que acompanhar evolução do fluxo de trabalho seja possível, identificando gargalos em etapas específicas, balanceando carga de trabalho da equipe, e estimando prazos de conclusão do projeto de regularização. A funcionalidade deve gerar relatório estatístico contabilizando unidades habitacionais agrupadas por status atual no workflow incluindo DRAFT (rascunhos ainda em edição pela equipe de campo), PENDING (unidades submetidas aguardando validação técnica), UNDER_REVIEW (em processo de análise documental ou geoespacial), APPROVED (aprovadas e prontas para emissão de título), REJECTED (rejeitadas com pendências identificadas), e ARCHIVED (arquivadas por duplicidade ou cancelamento). Para cada status, o sistema deve calcular valores absolutos indicando quantidade de unidades, percentual em relação ao total cadastrado permitindo visualização proporcional da distribuição, e tendência comparando com período anterior (semana, mês) indicando se há acúmulo (gargalo) ou fluxo saudável. O relatório deve incluir métricas de transição apresentando taxa de conversão entre status consecutivos (draft para pending, pending para approved, etc.), tempo médio de permanência em cada status identificando etapas demoradas, e taxa de rejeição com categorização de motivos principais permitindo ação corretiva focada. Visualização gráfica deve incluir gráfico de funil (funnel chart) mostrando estreitamento progressivo do draft até aprovação, gráfico de pizza apresentando distribuição percentual atual, e gráfico de linha temporal exibindo evolução histórica de cada status ao longo do projeto. Os critérios de aceitação incluem endpoint implementado retornando objeto JSON estruturado com contadores absolutos e percentuais por status, métricas de transição e tempo médio de permanência, validação de permissões restringindo acesso a gestores e analistas, tratamento adequado de erros incluindo comunidade ou projeto não encontrado, documentação OpenAPI descrevendo schema completo do relatório e enumeração de status possíveis, e testes unitários e de integração validando contabilizações, cálculos percentuais e análise temporal. Esta User Story está relacionada ao RF-201 e é implementada através do endpoint GET /api/reports/unit-status-distribution no backend GEOAPI com queries agregadas otimizadas, e componentes de visualização gráfica no frontend GEOWEB, pertencendo ao Epic 10: Relatórios e Exportação. O status atual é proposed, com endpoint existente mas formalização documental posterior.

---

**Última atualização:** 2025-12-30
**Status do arquivo**: Review
