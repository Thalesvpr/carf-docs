---
modules: [GEOAPI, GEOWEB, REURBCAD]
epic: compatibility
---

# US-148: Visualizar Medicao

Como Topografo quero ver detalhes de uma medicao para que possa validar dados coletados verificar precisao avaliar qualidade da observacao e identificar necessidade de reobservacao, onde o endpoint implementado em GEOAPI expoe a rota /api/surveying/measurements/{id} retornando objeto Measurement detalhado com todas as propriedades metadados de equipamento condicoes ambientais e metricas de qualidade, garantindo validacao de permissoes baseada em roles onde usuarios autenticados com role Surveyor ou superior podem visualizar detalhes de medicoes de campanhas as quais pertencem, incluindo tratamento de erro 404 Not Found quando ID da medicao nao existe e validacao de ownership garantindo que usuario nao acesse medicoes de campanhas de outros tenants, permitindo que a resposta inclua objeto completo com propriedades id campaignId campaignName fromPointId fromPointCode fromPointCoordinates toPointId toPointCode toPointCoordinates measurementType observedValue adjustedValue standardDeviation residual instrumentId instrumentType instrumentSerialNumber observedAt observerId observerName temperature pressure humidity notes metadata createdAt updatedAt, onde campo adjustedValue contem valor corrigido apos processamento de ajustamento topografico enquanto observedValue mantem valor bruto coletado em campo preservando rastreabilidade metrologica, garantindo rastreabilidade ao requisito funcional RF-164 que especifica visualizacao de observacoes topograficas, incluindo relacionamento eager loading com entidades Campaign SurveyPoint fromPoint toPoint User observer e Instrument para exibir contexto completo da medicao sem requisicoes adicionais, permitindo que o frontend GEOWEB renderize painel de detalhes com diagrama vetorial mostrando pontos origem e destino linha de visada com distancia e azimute tabela de propriedades e graficos de residuos quando ajustamento foi processado, onde campo residual indica diferenca entre valor observado e valor calculado apos ajustamento servindo como metrica de qualidade da observacao e identificacao de outliers, garantindo que metadata especifica do tipo de medicao inclui para GNSS numberOfSatellites PDOP HDOP VDOP solutionType RTK DGPS autonomo epochDuration, para estacao total prismaConstant reflectorHeight atmosphericCorrection ppmCorrection e para nivelamento backSightReading foreSightReading rodReading, incluindo calculo automatico de distancia horizontal e vertical a partir de distancia inclinada e angulo vertical quando medicao foi feita com estacao total, permitindo visualizacao de foto geotagged do ponto de medicao capturada no momento da observacao para documentacao visual e validacao posterior de condicoes de visibilidade e obstrucoes, onde a implementacao em GEOAPI utiliza DTO especifico MeasurementDetailDto com campos computados calculados em tempo de execucao incluindo horizontalDistance verticalDistance azimuthReverse e qualityFlag baseado em thresholds de desvio padrao e residuo, garantindo que informacoes de calibracao do instrumento utilizado sao exibidas incluindo data da ultima calibracao certificado de calibracao validade e constantes instrumentais aplicadas, incluindo timeline de alteracoes da medicao mostrando quando foi criada se foi editada quem editou motivo da edicao e se foi excluida e posteriormente restaurada, permitindo comparacao side-by-side com medicao reciproca quando existir mostrando valor observado em ambas direcoes discrepancia calculada e status de aprovacao dentro ou fora da tolerancia, onde export de detalhes em formato PDF gera relatorio formatado com cabecalho logotipo do tenant dados da campanha informacoes da medicao diagram a vetorial tabelas de metadados e assinatura digital do responsavel tecnico, garantindo que medicoes com qualityFlag indicando problema como desvio padrao excessivo residuo alem da tolerancia ou PDOP alto exibem alerta visual destacado sugerindo reobservacao, onde testes unitarios validam calculo de campos computados incluindo distancia horizontal vertical azimute reverso e quality flag com datasets mock cobrindo diferentes tipos de medicao, garantindo testes de integracao que verificam recuperacao completa de medicao com relacionamentos eager loading calculo de campos computados e validacao de isolamento multi-tenant.

---

**Ultima atualizacao:** 2025-12-30
**Última atualização:** 2026-01-15
**Status do arquivo**: Pronto
