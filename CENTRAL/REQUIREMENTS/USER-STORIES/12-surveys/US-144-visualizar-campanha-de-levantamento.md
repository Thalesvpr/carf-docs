---
modules: [GEOAPI, GEOWEB, REURBCAD]
epic: performance
---

# US-144: Visualizar Campanha de Levantamento

Como Gerente quero ver detalhes de uma campanha para que possa acompanhar progresso da coleta monitorar metricas de qualidade e gerenciar equipe de topografos em campo, onde o endpoint implementado em GEOAPI expoe a rota /api/surveying/campaigns/{id} retornando objeto Campaign detalhado com todas as propriedades metricas calculadas e relacionamentos relevantes, garantindo validacao de permissoes baseada em roles onde usuarios autenticados com role Surveyor ou superior podem visualizar detalhes de campanhas do seu tenant, incluindo tratamento de erro 404 Not Found quando ID da campanha nao existe e validacao de isolamento multi-tenant impedindo acesso a campanhas de outros tenants, permitindo que a resposta inclua objeto completo com propriedades id name description status startDate endDate actualEndDate communityId communityName responsibleId responsibleName teamMembers equipmentUsed methodologyNotes geofence perimetro geografico da area de levantamento createdAt updatedAt createdBy e arrays de medicoes e pontos topograficos, onde campos computados incluem measurementsCount quantidade total de medicoes, pointsCount quantidade de pontos topograficos, completionPercentage percentual de progresso calculado com base em metas planejadas, averagePrecision precisao media das medicoes GNSS em metros, dailyCollectionRate media de pontos coletados por dia e qualityMetrics objeto com estatisticas de qualidade como pontos com DOP excessivo medicoes rejeitadas e taxa de reobservacao, garantindo rastreabilidade ao requisito funcional RF-159 que especifica visualizacao e monitoramento de campanhas, incluindo relacionamento eager loading com entidades Community User responsavel e team members para exibir informacoes contextuais completas sem requisicoes adicionais, permitindo que o frontend GEOWEB renderize dashboard da campanha com mapa mostrando perimetro da area pontos coletados poligonais medidas graficos de progresso temporal metricas de qualidade timeline de atividades e lista de equipe, onde a propriedade geofence contendo GeoJSON Polygon delimita area geografica da campanha permitindo validacao de que pontos coletados estao dentro da area esperada, garantindo que informacoes de equipamentos utilizados incluem marca modelo numero de serie data de calibracao e certificados de calibracao anexados facilitando rastreabilidade metrologica, incluindo timeline de eventos da campanha mostrando quando foi criada iniciada pausada retomada e finalizada com timestamps usuarios responsaveis e comentarios explicativos, permitindo export de relatorio completo da campanha em formatos PDF e Word incluindo mapa de localizacao tabelas de medicoes graficos de precisao e assinaturas digitais do responsavel tecnico e coordenador, onde a implementacao em GEOAPI utiliza projecao customizada para calcular campos computados de forma eficiente sem N+1 queries utilizando agregacoes SQL no banco PostgreSQL, garantindo cache de metricas calculadas com invalidacao quando novas medicoes forem adicionadas a campanha ou medicoes existentes forem atualizadas, incluindo WebSocket real-time updates onde frontend conectado recebe notificacoes push quando novos pontos sao coletados em campo permitindo monitoramento ao vivo do progresso da campanha, onde testes unitarios validam calculo de metricas agregadas incluindo completion percentage average precision e quality metrics com datasets mock, garantindo testes de integracao que verificam recuperacao completa de campanha com relacionamentos eager loading calculo de campos computados e validacao de isolamento multi-tenant, incluindo testes de performance validando que query de detalhes executa em menos de 300ms mesmo para campanhas com milhares de medicoes e pontos topograficos.

---

**Ultima atualizacao:** 2025-12-30
**Última atualização:** 2026-01-15
**Status do arquivo**: Review
