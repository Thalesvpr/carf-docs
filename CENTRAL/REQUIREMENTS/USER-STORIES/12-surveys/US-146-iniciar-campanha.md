---
modules: [GEOAPI, GEOWEB, REURBCAD]
epic: compatibility
---

# US-146: Iniciar Campanha

Como Gerente quero iniciar campanha de levantamento para que possa liberar coleta de dados no campo permitindo que topografos registrem medicoes pontos topograficos e observacoes em campo atraves de aplicativo mobile ou equipamentos topograficos integrados, onde o endpoint implementado em GEOAPI expoe a rota /api/surveying/campaigns/{id}/start com metodo POST para ativar campanha e habilitar coleta de dados, garantindo validacao de permissoes baseada em roles onde apenas usuarios com role Manager ou superior podem iniciar campanhas, incluindo tratamento de erros 404 Not Found quando ID da campanha nao existe, 403 Forbidden quando usuario nao possui permissao e 422 Unprocessable Entity quando campanha nao atende criterios minimos para inicio, permitindo que operacao execute transicao automatica de status de PLANNING para ACTIVE habilitando endpoints de coleta de dados para topografos da equipe, onde validacao pre-inicio verifica criterios minimos incluindo definicao de responsavel tecnico presenca de pelo menos um membro na equipe configuracao de equipamentos a serem utilizados definicao de perimetro geografico geofence e aprovacao do plano de levantamento, garantindo rastreabilidade ao requisito funcional RF-158 que especifica gerenciamento de workflow de campanhas topograficas, incluindo payload JSON opcional com propriedades startNotes comentarios iniciais do gerente, actualStartDate data efetiva de inicio que pode diferir de startDate planejada, notifyTeam booleano para envio de notificacoes a equipe e initialControlPoints array de IDs de pontos de controle geodesicos a serem utilizados como referencia fixa, onde inicio de campanha dispara notificacoes automaticas via push notification email e SMS a todos os membros da equipe informando ativacao da campanha com link para aplicativo mobile coordenadas do ponto de partida e orientacoes de seguranca, garantindo que aplicativo mobile GEOGIS verifica status da campanha e habilita funcionalidades de coleta apenas quando campanha esta em status ACTIVE impedindo coleta de dados em campanhas nao autorizadas, incluindo sincronizacao automatica de dados de referencia para dispositivos mobile incluindo mapa base da comunidade geometrias de unidades existentes pontos de controle geodesicos e configuracoes de precisao requerida, permitindo que inicio de campanha crie workspace isolado no storage cloud para uploads de dados de campo incluindo fotos geotagged videos de reconhecimento croquis anotados e arquivos RAW de equipamentos topograficos, onde evento de dominio CampaignStarted e publicado no message bus acionando workflows downstream como reserva de equipamentos topograficos em sistema de inventario ativacao de seguro de campo e inicio de tracking de horas trabalhadas para calculo de custos, garantindo registro de auditoria detalhado capturando usuario responsavel timestamp condicoes meteorologicas no momento do inicio baseadas em API de clima e checklist de seguranca confirmado pela equipe, incluindo dashboard de monitoramento ao vivo que se torna acessivel apos inicio da campanha permitindo que gerente acompanhe em tempo real posicao GPS dos topografos progresso de coleta e alertas de qualidade, permitindo que o frontend GEOWEB exiba wizard de inicio com verificacao de pre-requisitos preview do plano de levantamento confirmacao de equipe e equipamentos e botao de ativacao com confirmacao modal, onde a implementacao em GEOAPI utiliza Command pattern para encapsular logica de inicio e Observer pattern para notificar sistemas interessados sobre ativacao da campanha, garantindo idempotencia onde multiplas chamadas ao endpoint de start com mesma campanha nao geram efeitos colaterais indesejados retornando sucesso se campanha ja esta ACTIVE, incluindo possibilidade de pausar campanha ativa atraves de acao pause que altera status para PAUSED impedindo temporariamente coleta de dados util para interrupcoes planejadas como final de semana ou condicoes meteorologicas adversas, onde testes unitarios validam cada validacao pre-inicio isoladamente logica de transicao de status e construcao de payload de notificacao com datasets mock, garantindo testes de integracao que verificam fluxo completo de inicio incluindo alteracao de status publicacao de evento registro de auditoria envio de notificacoes e sincronizacao de dados para dispositivos mobile utilizando infraestrutura real de messaging push notifications e storage cloud.

---

**Ultima atualizacao:** 2025-12-30
**Última atualização:** 2026-01-15
**Status do arquivo**: Review
