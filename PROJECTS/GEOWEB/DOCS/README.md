# GEOWEB - Portal Web de Gestão REURB

Portal web React TypeScript para gestão de processos de regularização fundiária urbana REURB permitindo técnicos municipais e gestores visualizarem mapas interativos de comunidades cadastrarem unidades habitacionais online gerenciarem titulares acompanharem processos de legitimação fundiária e exportarem relatórios análise espacial integrado com backend REST API tipado garantindo type safety end-to-end com cache inteligente optimistic updates e sincronização automática server state. Implementa Single Page Application SPA com routing client-side protected routes autenticadas multi-tenancy dinâmico via tenant switcher permitindo usuários com múltiplos municípios alternarem contexto sem logout mantendo sessão ativa deployment contínuo Vercel provendo preview environments automáticos para cada pull request facilitando code review visual antes merge produção.

Autenticação implementa OAuth2 OpenID Connect via Keycloak usando Authorization Code flow com PKCE Proof Key for Code Exchange prevenindo ataques interceptação sem necessidade client secret armazenado frontend conforme especificado em [Security](../../../CENTRAL/SECURITY/README.md) políticas LGPD compliance, tokens JWT assinados contêm claims tenant_id allowed_tenants roles RBAC extraídos por AuthContext provider React propagando identidade usuário para toda aplicação permitindo conditional rendering baseado em permissions validadas client-side para UX mas enforcement real executado backend prevenindo bypass manipulação frontend. Protected routes wrapper component valida autenticação antes renderizar páginas sensíveis redirecionando usuários não autenticados para login page Keycloak mantendo URL original em state parameter permitindo redirect automático após login bem-sucedido melhorando experiência usuário eliminando necessidade navegar manualmente destino desejado.

Interface usuário construída com componentes reutilizáveis shadcn/ui baseados Radix primitives acessíveis ARIA compliant garantindo keyboard navigation screen reader compatibility seguindo WCAG guidelines permitindo acesso pessoas com deficiências visuais motoras, mapas interativos implementados react-leaflet ou MapLibre GL JS renderizando layers WMS visualizando comunidades unidades individuais como markers sobreposição ortofotos limites municipais ferramentas medição área distância desenho polígonos cadastro unidades diretamente mapa clicando vértices definindo geometria antes preencher formulário atributos textuais. Formulários validados client-side usando React Hook Form integrado Zod schemas definindo tipos validações campo obrigatório formato CPF CNPJ email coordenadas geográficas limites numéricos regex patterns custom validators executando validação antes submeter prevenindo erros digitação reduzindo round-trips servidor melhorando responsividade percebida usuário exibindo mensagens erro contextuais inline próximo campo inválido facilitando correção imediata.

Gerenciamento estado distribuído entre TanStack Query para server state incluindo cache automático background refetching stale-while-revalidate optimistic updates rollback automático caso falha mutations retry logic configurável deduplicação requests simultâneos reduzindo latência percebida e consumo bandwidth, e Zustand para client state local incluindo UI state modals abertos filtros selecionados preferências usuário tema claro escuro idioma configurado persistido localStorage mantendo state entre sessões browser. Features principais incluem gestão unidades com CRUD completo upload múltiplas fotos preview thumbnails desenho polígonos mapa validação geometria sobreposição conflitos cadastrais sincronização backend, visualização mapas com layers toggle filtros dinâmicos search geográfica por endereço coordenadas bounding box export formatos GIS shapefile GeoJSON KML, gestão titulares com cadastro posseiros vinculação unidades validação CPF CNPJ documentos anexados histórico alterações auditoria completa, processos legitimação com workflow aprovação visualização status transitions upload documentação obrigatória Lei 13465/2017 comentários técnicos fiscais aprovação rejeição registrando justificativas decisões, e relatórios exportações com geração assíncrona PDF Excel por comunidade município completo exportação shapefiles QGIS dashboards estatísticas demographics gráficos visualizações analíticas facilitando tomada decisão gestores públicos planejamento urbano políticas habitacionais.

Stack tecnológico utiliza React 18 com TypeScript 5 compilado Vite 5 bundler oferecendo hot module replacement development server ultra-rápido build otimizado code splitting lazy loading components rotas reduzindo initial bundle size melhorando time-to-interactive perceived performance, React Router 6 para routing client-side com protected routes data loaders suspense boundaries error boundaries centralizados, TanStack Query v5 para server state management, Zustand para client state, shadcn/ui componentes baseados Radix primitives, react-leaflet ou MapLibre GL JS para mapas interativos, React Hook Form com Zod validation para formulários, e deployment Vercel edge network global HTTPS automático custom domains configuráveis environment variables secrets management integração GitHub Actions CI CD pipelines automated testing Playwright E2E visual regression screenshots comparisons garantindo qualidade antes deploy produção.

Documentação técnica organiza arquitetura ADRs decisões integração específicas projeto GEOWEB não aplicáveis outros projetos CARF, conceitos fundamentais autenticação protected routes tenant switcher provider patterns Context API hooks customizados, guias práticos setup local development Keycloak configuration login logout flows refresh tokens troubleshooting common issues, e camadas código estrutura diretórios components pages hooks services utils types explicando organização files responsibilities boundaries separação concerns facilitando navegação codebase novos desenvolvedores onboarding rápido. Features implementadas documentam casos de uso específicos mapeando requirements CENTRAL para implementação técnica React components state management API integration validações explicando decisões trade-offs escolhas arquiteturais justificadas contexto web SPA constraints limitações browser environment offline capabilities service workers progressive web app PWA future roadmap.

---

**Última atualização:** 2026-01-11
