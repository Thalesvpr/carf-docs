# LegitimationCertificateIssuedEvent


Domain event emitido quando 29-legitimation-certificate é oficialmente emitida após aprovação de processo de legitimação fundiária indicando que documento legal foi gerado permitindo notificação ao beneficiário envio para impressão registro em sistemas externos e celebração de marco importante no processo de regularização. Implementa 00-i-domain-event fornecendo contrato comum. Propriedades principais incluem CertificateId (Guid identificador da certidão emitida), CertificateNumber (string número oficial único tipo "CERT-2025-00123"), UnitId (Guid unidade habitacional legitimada), RequestId (Guid solicitação original que gerou certidão), OwnerName (string nome do proprietário beneficiado), LegitimatedArea (decimal área legitimada em m²), PdfPath (string caminho S3 do PDF da certidão para download), IssuedBy (Guid AccountId da autoridade que emitiu), IssuedAt (DateTime data oficial de emissão), TenantId (Guid tenant do contexto), e OccurredAt (DateTime timestamp do evento). Métodos GetCertificate() podendo receber repository retornando LegitimationCertificate completo se handler precisar dados adicionais como memorial ou planta vinculados, GetRecipientEmail() buscando email do primeiro Holder da Unit para envio de notificação. Adicionado em LegitimationCertificate constructor ou método Issue() após validações bem-sucedidas registrando evento através de AddDomainEvent aguardando commit para dispatch garantindo que apenas certidões realmente persistidas disparam notificações. Processado por handlers como LegitimationCertificateEmailHandler enviando email solene ao beneficiário com PDF anexado parabenizando pela conquista incluindo instruções para próximos passos registro em cartório, LegitimationCertificateSmsHandler enviando SMS curto notificando emissão com link para download, LegitimationCertificatePrintQueueHandler enfileirando impressão em plotter de grande formato se configurado preparando documentos físicos para entrega presencial, LegitimationCertificateRegistryIntegrationHandler enviando dados eletronicamente para sistema de Registro de Imóveis se integração ativa iniciando processo de matrícula automática conforme protocolo CNJ, LegitimationCertificateTimelineHandler criando milestone em timeline pública da comunidade celebrando número de famílias regularizadas, e LegitimationCertificateMetricsHandler incrementando contador de certidões emitidas atualizando dashboard de progresso do projeto. Permite celebração de conquista importante notificando stakeholders prefeitura governo estadual ONGs parceiras sobre avanço da regularização fundiária, fornece dados para relatórios de impacto social contando famílias beneficiadas área total legitimada, integra com cerimônias de entrega onde certidões impressas são entregues presencialmente em eventos comunitários usando lista gerada de certificados pendentes de entrega física, e garante rastreabilidade completa do processo desde solicitação até emissão para compliance auditoria e prestação de contas a órgãos financiadores.

---

**Última atualização:** 2026-01-12
