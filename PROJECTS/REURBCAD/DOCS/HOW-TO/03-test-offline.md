Testar offline mode no REURBCAD requer simular network conditions variadas verificando que app continua funcional sem conexão, enabling Airplane Mode em device settings ou emulator toolbar simula offline completo desabilitando WiFi + cellular + Bluetooth, NetInfo.addEventListener('change', state => console.log('Connection:', state.isConnected, state.isInternetReachable)) logga connectivity changes útil para verificar detection funciona, offline workflow teste típico consiste em fazer login com WiFi ativo obtendo tokens incluindo offline refresh_token, habilitar Airplane Mode desconectando completamente, navegar app verificando que telas carregam dados cached do WatermelonDB sem loading spinners infinitos, criar nova Occupation preenchendo formulário com address, area, GPS coordinates, capturar photos via câmera, submit form verificando que salva localmente em WatermelonDB com synced=false flag, verificar lista de Occupations mostra nova ocupação com badge "Pendente sync", verificar banner top "Sem conexão - Dados serão sincronizados quando online" visível, tentar fazer logout verificando que mostra alert "Impossível fazer logout offline - Tente quando online", fechar app completamente swipe-up kill process, reabrir app verificando que session restaurada via cached refresh_token sem internet, verificar que Occupation criada offline ainda visible na lista persistida em WatermelonDB, desabilitar Airplane Mode re-conectando WiFi, aguardar alguns segundos para NetInfo detectar conexão, verificar que sync automático inicia mostrando toast "Sincronizando...", verificar network logs DevTools que POST /api/sync/push envia Occupation criada offline com batch, verificar que response success remove synced=false flag e badge "Pendente sync" desaparece, verificar que GET /api/sync/pull busca changes remotos caso outro user modificou dados enquanto offline, token caching teste verificando que access_token expira após 5 min mas app continua funcional offline porque requests não enviados imediatamente, ao reconectar app faz refresh com offline refresh_token obtendo novo access_token antes de sync, long-term offline teste deixando app offline por 7+ dias verificando que offline refresh_token ainda válido (30 dias idle) permitindo sync quando reconecta, se passar 30 dias idle verificar que refresh falha e app mostra login screen forçando re-autenticação, sync conflict simulation criando Occupation offline no device A com id=1 address="Rua A", device B também offline cria ocupação com id=1 address="Rua B", device A conecta primeiro synca sucesso, device B conecta depois tenta sync receberá 409 Conflict do backend, app detecta conflict via response.status === 409, mostra dialog "Conflito detectado - Dados foram modificados por outro usuário" com options "Manter minha versão" (overwrite remote) ou "Usar versão remota" (discard local), network interruption teste iniciando sync depois habilitando Airplane Mode mid-sync verificando que requests pendentes são aborted, dados parcialmente sincronizados marcados como synced=true, dados não sincronizados permanecem synced=false, ao reconectar retry automático com exponential backoff 1s, 2s, 4s, 8s entre tentativas, performance teste criando 1000+ Occupations offline verificando que sync batch não trava UI porque background processing com AsyncTask (Android) ou GCD (iOS), progress indicator mostra "Sincronizando 47/1000" dando feedback visual, cancel sync button permite user interromper sync long-running se mudar de ideia.

---

**Última atualização:** 2026-01-15
**Status do arquivo**: Incompleto
Descrição: Falta título H1 na primeira linha.
