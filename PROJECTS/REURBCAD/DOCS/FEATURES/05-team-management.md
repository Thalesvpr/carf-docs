# Team Management - Gestão de Equipes

Feature de gestão equipes implementada como visualização readonly mobile permitindo field collectors consultarem equipes técnicas atribuídas verificarem membros líder comunidades responsabilidade facilitando coordenação trabalho campo através de telas TeamsListScreen FlatList exibindo teams sincronizadas GEOAPI backend mostrando nome líder count membros status ativa inativa, TeamDetailsScreen mostrando informações completas team com tabs Membros Comunidades Atividades listando integrantes atribuições geográficas histórico coletas, componentes principais TeamCard exibindo badge status nome líder thumbnail photos membros count comunidades atribuídas action view details, TeamMembersTab FlatList membros com avatar nome role COORDINATOR ANALYST FIELD_AGENT telefone email facilitando contato coordenação campo, TeamCommunitiesTab listando communities assigned team com nome endereço bounding box map preview thumbnail permitindo field collector identificar áreas responsabilidade equipe, MyTeamsFilter dropdown permettindo user filtrar units coletas por team assignment showing apenas dados relevant sua equipe atual reduzindo clutter facilitando foco trabalho atribuído.

Validações não aplicáveis pois feature readonly mobile sem CRUD operations teams gerenciadas via ADMIN ou GEOWEB web interfaces sincronizadas down para mobile app field collectors apenas consomem dados sem modificar, verificação permissões role-based field-collector role pode view apenas teams quais pertence analyst manager pode view todas teams tenant, sync validations verificando teams data integrity durante pull checando required fields name leader_id status present rejeitando incomplete records logging errors sync log, relationship integrity validando leader_id e member user_ids existem locally WatermelonDB users collection antes rendering evitando broken references orphan IDs mostrando placeholder Unknown User se user deleted server não sincronizado local ainda.

API integration via read-only sync pulling teams data GET /api/teams params tenant_id user_id retornando apenas teams onde user é member ou leader filtrando server-side conforme permissions backend RLS policies, durante initial sync ou manual refresh chamando endpoint storing teams localmente WatermelonDB teams collection criando Team model instances fields name description leader_id status created_at, members many-to-many relationship via team_members junction syncing separadamente GET /api/teams/:id/members retornando array user objects com role field storing locally, communities assignment via team_communities junction GET /api/teams/:id/communities retornando community objects com geolocation boundaries, teams data cached indefinitely locally até explicit refresh manual pull user inicia ou background sync periodic attempt, updates teams server reflected local após sync detecting changes via updated_at timestamp incremental pull apenas modified teams desde last sync, filtering units by team assignment via query WatermelonDB units collection WHERE team_id = $selectedTeamId showing apenas units relevant current team context useful field collectors trabalhando multiple teams diferentes dias semana switching team filter conforme schedule.

Domain model mapeando CENTRAL Team entity para WatermelonDB @model class Team com @field name string, @field description string nullable, @field leader_id foreign key @relation('leader', 'leader_id') many-to-one users, @field status enum ACTIVE INACTIVE, @relation members via many-to-many through team_members writable false readonly mobile, @relation communities via many-to-many through team_communities readonly, @date created_at updated_at timestamps, implementação UC-011 visualização readonly requirements permitindo field collector consultar teams atribuídas visualizar membros líder identificar comunidades responsabilidade filtrar units por team assignment coordenar trabalho verificando assignments colegas equipe contactando líder dúvidas issues campo, sync unidirecional server down mobile sem push teams changes pois modificações gerenciadas web interfaces ADMIN GEOWEB, relacionamento requirements implementando RF-024 RF-026 consulta equipes coordenação trabalho campo accountability rastreamento atribuições.

---

**Última atualização:** 2026-01-11
**Status do arquivo**: Pronto
