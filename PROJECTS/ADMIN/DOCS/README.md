# ADMIN - Console Administrativo React SPA

Console administrativo React Single Page Application para gestão centralizada de tenants usuários configurações sistema CARF permitindo super-admins criar municípios atribuir primeiros administradores municipais configurar realms Keycloak definir quotas limites recursos permitidos por município controlando escalabilidade custos infraestrutura servidor PostgreSQL storage S3 bandwidth API calls rate limiting preventing abuse resource exhaustion denial-of-service scenarios malicious actors consuming unlimited resources crashing system affecting all tenants multi-tenancy environment shared infrastructure pooled resources isolated logically RLS Row-Level Security PostgreSQL policies filtering queries tenant_id ensuring strict isolation preventing cross-tenant data leakage bugs developer mistakes forgotten WHERE clauses security vulnerabilities exposing sensitive municipal data citizens CPF addresses income family composition legitimation status cadastro propriedades irregulares assentamentos precários informações confidenciais protegidas LGPD Lei Geral Proteção Dados compliance regulatório auditoria TCU Tribunal Contas União fiscalização sistemas públicos governo transparency accountability. Admin consumindo exclusivamente endpoints /api/admin/* backend GEOAPI que funcionam proxy intermediário seguro entre frontend React browser JavaScript bundle inspecionável DevTools network tab exposto mundo inteiro internet público acessível qualquer pessoa curiosa developer tools F12 Chrome Firefox Safari Edge viewing HTTP requests responses headers bodies cookies tokens secrets configurations e Keycloak Admin REST API endpoints poderosos perigosos permitindo criar deletar usuários alterar roles permissions modificar configurações realm clients authentication flows desabilitar multi-factor authentication MFA bypass security controls comprometer sistema inteiro obtendo acesso super-admin capabilities sem autorização legítima portanto client_secret Keycloak Admin Client confidential armazenado exclusivamente backend GEOAPI .NET secure configuration Azure Key Vault AWS Secrets Manager HashiCorp Vault encrypted environment variables nunca commitado Git hardcoded código plaintext configuration files .env JSON YAML XML readable text editors exposing secrets acidental leak repository público GitHub internet scanners bots automated credential harvesting attacks.

Arquitetura segura implementa SPA React frontend executando browser usuário PKCE Proof Key for Code Exchange flow OAuth2 sem client_secret armazenado JavaScript bundle apenas code_verifier dynamically generated random string SHA256 hashed code_challenge enviado authorization request Keycloak validando code_verifier durante token exchange prevenindo ataques interceptação authorization code man-in-the-middle scenarios malicious apps registering custom URL schemes mobile deeplinks intercepting callbacks roubando codes trocando tokens ilegitimamente, frontend chama endpoints GEOAPI /api/admin/* passando access token JWT Bearer Authorization header backend valida token signature issuer audience expiration claims extrai user_id roles tenant_id allowed_tenants verifica role super-admin ou admin com permissões específicas operation requested validando tenant_id matching resource acessado impedindo admin município A gerenciar usuários município B mesmo autenticado válido token legítimo Keycloak mas fora escopo autorização jurisdição administrativa municipal, backend GEOAPI executa validações adicionais sete camadas segurança incluindo OAuth2 JWT authentication verificando assinatura digital RS256 algoritmo chaves públicas JWKS endpoint Keycloak, role-based authorization policies RequireRole super-admin admin rejeitando requests usuários roles insuficientes analyst manager field-collector sem permissões administrativas sensíveis, tenant validation comparando tenant_id claim JWT com tenant_id resource URI path parameter body payload garantindo consistency preventing tampering malicious modification requests intercepted proxies Burp Suite OWASP ZAP penetration testing tools ethical hacking authorized security audits, rate limiting 100 requests por minuto por IP address preventing brute force attacks automated scripts bots spamming endpoints consuming resources degrading performance legitimate users admin legítimos trabalhando horário comercial 8h-18h executando operações normais CRUD users ocasionalmente criando 5 10 usuários novos técnicos contratados concurso público municipal não 1000 requests segundo automated attack distributed botnet malware infected computers coordinated DDoS Distributed Denial of Service, CORS Cross-Origin Resource Sharing restrito allowed origins whitelist domains trusted frontend admin.carf.gov.br localhost:3000 development staging.admin.carf.gov.br preventing requests malicious websites phishing domains look-alike typosquatting homograph attacks Unicode confusables IDN internationalized domain names spoofing legitimate sites tricking users entering credentials stolen attackers session hijacking XSS Cross-Site Scripting injections, auditoria completa logging todas operações administrativas create user delete user assign role change tenant settings modificações configurações sensíveis gravando AccountId IP address timestamp request payload response status changes before after values diff comparison facilitating forensics incident response investigations detecting unauthorized access insider threats rogue administrators malicious employees disgruntled former staff revenge sabotage corruption municipal governments political motivations elections transitions power changes administration continuity institutional memory preservation accountability transparency citizen oversight participação social democratic processes, e Keycloak Admin Client confidential backend .NET usando client_id client_secret obtaining service account token master realm admin permissions scopes executing operations users realms clients roles groups protocol mappers authentication flows bindings required actions CRUD complete administrative capabilities delegated backend isolated frontend never exposing secret JavaScript bundle network requests headers visible anyone inspecting traffic HTTPS encrypted transport layer TLS 1.3 protecting confidentiality integrity preventing eavesdropping packet sniffing wireless networks public WiFi coffee shops airports hotels untrusted environments field technicians working remote locations municipalities rural areas limited infrastructure security awareness training employees users recognizing phishing social engineering attacks suspicious emails links attachments never clicking unknown sources verifying sender legitimacy calling phone confirming requests unusual actions deviating normal procedures established protocols policies guidelines documented training materials onboarding new employees cybersecurity awareness mandatory annual refreshers compliance certification attestation audit trails.

Stack tecnológico utiliza React 18 biblioteca UI declarativa component-based virtual DOM reconciliation efficient rendering updates minimizing DOM manipulations expensive operations browser reflows repaints layout calculations improving performance perceived responsiveness user experience interactivity smooth animations transitions 60 FPS frame rate, Vite bundler build tool ultra-rápido hot module replacement HMR instantaneous feedback changes código refletidas browser segundos milliseconds sem reload completo página preservando state aplicação form inputs modal dialogs navigation position scroll offset debugging productive development experience iteração rápida experimentação prototyping validação conceitos designs mockups wireframes implementação incremental agile methodologies sprints iterations backlog refinement, TypeScript 5 type safety compile-time error detection catching bugs antes runtime production crashes user-facing errors bad experience frustration complaints support tickets overhead customer service municipal call centers helpdesk technicians resolving issues troubleshooting problems users non-technical municipal employees limited computer literacy training digital inclusion elderly users accessibility concerns WCAG Web Content Accessibility Guidelines screen readers keyboard navigation ARIA attributes semantic HTML proper labeling, @carf/tscore biblioteca compartilhada value objects CPF CNPJ validators auth utilities types interfaces enums constants reusable code DRY Don't Repeat Yourself principle avoiding duplication maintenance burden inconsistencies bugs fixing one place missing others diverging implementations subtle differences behavior unexpected edge cases corner conditions, shadcn/ui component library baseada Radix primitives acessíveis ARIA compliant keyboard navigation focus management tab order screen reader compatibility WCAG AA compliance ensuring inclusivity accessibility pessoas deficiências visuais motoras cognitivas elderly users limited dexterity fine motor control tremors arthritis conditions affecting interaction mouse keyboard touch gestures mobile devices tablets smartphones responsive design fluid layouts breakpoints media queries mobile-first approach progressive enhancement graceful degradation older browsers IE11 legacy corporate environments governmental institutions conservative IT policies slow adoption modern technologies risk-averse change management, TanStack Query v5 server state management cache automático background refetching stale-while-revalidate optimistic updates rollback automático falhas mutations deduplicação requests simultâneos reducing latência bandwidth consumption, Zustand client state local UI modals dialogs filters preferences theme dark light language locale persistido localStorage sessões browser maintaining continuity experience, Tailwind CSS utility-first styling rapid prototyping consistent design system spacing colors typography shadows borders radius composition reusable patterns avoiding custom CSS specificity conflicts cascade inheritance !important hacks overrides maintainability scalability large codebases teams multiple developers contributors open-source projects community collaboration pull requests code reviews quality assurance testing continuous integration deployment pipelines automation, e Keycloak.js SDK JavaScript client library simplifying OAuth2 OIDC flows initialization configuration realm URL client_id redirectUri adapters frameworks React Vue Angular vanilla JavaScript handling callbacks token storage refresh expiration logout session management SSO Single Sign-On integration multiple applications sharing authentication session unified user experience seamless navigation between GEOWEB ADMIN WEBDOCS without re-authentication improving productivity reducing friction switching contexts tasks workflows integrated ecosystem CARF applications suite tools municipal management REURB legitimação fundiária cadastro imobiliário urbano regularização assentamentos precários direito moradia digna cidadania inclusão social políticas públicas habitacionais planejamento urbano desenvolvimento sustentável cidades resilientes smart cities tecnologia informação comunicação TIC transformação digital governo eletrônico e-gov serviços digitais cidadão acesso informação transparência participação democracia accountability controle social.

Documentação técnica organiza features implementadas mapeando casos de uso UC-011 gerenciar teams equipes campo atribuindo técnicos coletores unidades geograficamente proximity-based algorithms otimizando rotas reduzindo deslocamento aumentando produtividade coletas por dia user management criando usuários municipais atribuindo roles RBAC super-admin admin manager analyst field-collector configurando tenant_id município jurisdição allowed_tenants array múltiplos municípios técnicos itinerantes trabalhando contratos consultoria prestação serviços vários clientes simultaneously switching context tenant switcher dropdown UI component, conceitos fundamentais autenticação PKCE flow local storage secure encrypted tokens refresh automático expiration detection backend proxy architecture seven layers security detailed explanation rationale justificativas decisões rejeitando Next.js SSR Server-Side Rendering mesmo Server Actions componentes servidor ainda executam Node.js runtime server-side código acessível inspection debugging logs exposing logic secrets configurations, guias práticos setup local development instalação dependências npm install pnpm bun package managers Vite dev server localhost:3000 hot reload configuração Keycloak client admin-client public PKCE redirectUri http://localhost:3000 production https://admin.carf.gov.br environment variables .env.local VITE_KEYCLOAK_URL VITE_KEYCLOAK_REALM VITE_KEYCLOAK_CLIENT_ID testing Playwright E2E simulating admin workflows creating users assigning roles visual regression screenshots comparisons, e arquitetura decisões técnicas ADRs React vs Angular vs Vue escolhendo React ecosystem maduro community support libraries tooling TypeScript integration, Vite vs Webpack vs Parcel preferindo Vite speed simplicity developer experience modern ES modules native browser support avoiding transpilation bundling overhead faster builds deploys iterations, shadcn/ui vs Material-UI vs Ant Design vs Chakra UI evaluating accessibility customization theming performance bundle size tree-shaking optimizations production builds minimizing JavaScript CSS payloads initial load time time-to-interactive TTI Core Web Vitals LCP Largest Contentful Paint FID First Input Delay CLS Cumulative Layout Shift metrics Google ranking SEO search engine optimization discoverability public portal WEBDOCS documentation site indexed crawled bots Googlebot Bingbot metadata Open Graph Twitter Cards social sharing previews links embeds rich snippets structured data JSON-LD schema.org vocabularies semantic web linked data knowledge graphs enhancing context meaning information retrieval intelligent search assistants AI chatbots future integrations possibilities roadmap evolution continuous improvement iterative development feedback loops user testing usability studies A/B testing multivariate experiments data-driven decisions metrics analytics instrumentation telemetry monitoring observability distributed tracing OpenTelemetry spans contexts logs correlations debugging production issues incidents outages postmortems blameless culture learning improvement resilience.

---

**Última atualização:** 2026-01-11
