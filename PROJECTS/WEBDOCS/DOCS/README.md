# WEBDOCS - Portal de Documentação Técnica

Portal de documentação estática CARF implementado com VitePress (Vue 3 static site generator) servindo toda documentação técnica do sistema de forma navegável searchable e acessível via browser fornecendo interface amigável para desenvolvedores técnicos analistas e stakeholders consultarem ADRs arquitetura requisitos API reference regras de negócio e guias práticos sem necessidade de navegar diretórios Git. Portal consome documentação markdown centralizada do monorepo carf-docs executando sincronização automática via script TypeScript que copia recursivamente todo diretório CENTRAL para pasta docs do VitePress mantendo estrutura hierárquica preservando links relativos entre arquivos permitindo navegação fluida cross-reference, CI/CD GitHub Actions executa sync antes de cada build garantindo portal sempre reflete versão mais recente da documentação commitada em main branch. VitePress compila markdown para HTML estático otimizado com code splitting lazy loading e service worker para performance offline-capable, search engine integrado usa índice full-text local permitindo busca instantânea client-side sem backend necessário, tema customizado CARF aplica identidade visual municipal com verde institucional logo cabeçalho navegação sidebar gerada automaticamente baseada em estrutura de diretórios markdown e modo escuro opcional melhorando legibilidade para desenvolvedores trabalhando períodos prolongados.

Documentação portal organiza seções principais incluindo arquitetura ADRs decisions records documentando escolhas técnicas justificadas com trade-offs considerados alternativas rejeitadas e consequências esperadas facilitando onboarding novos desenvolvedores entendendo rationale decisões passadas, requisitos funcionais não-funcionais casos de uso user stories rastreáveis até implementação via links bidirecionais, API reference completa endpoints REST schemas JSON request/response examples autenticação autorização rate limiting error codes gerados automaticamente de OpenAPI spec GEOAPI mantendo sincronização código-documentação, domain model entidades aggregates value objects events relationships visualizados via diagramas Mermaid embedded markdown renderizados automaticamente pelo VitePress, regras de negócio validações workflows aprovação contestações legitimação fundiária Lei 13465/2017 REURB-S REURB-E documentadas detalhadamente com critérios eligibilidade requisitos documentais prazos legais, e guias práticos how-tos troubleshooting runbooks operacionais backup restore deployment monitoring organizados por projeto consumidor GEOAPI GEOWEB REURBCAD GEOGIS ADMIN cada um linkando para conceitos CENTRAL relevantes evitando duplicação mantendo single source of truth.

Autenticação portal suporta áreas públicas acessíveis anonimamente contendo documentação geral open-source e áreas restritas protegidas por Keycloak OAuth2 PKCE flow exigindo login com roles específicas para visualizar documentação sensível como credenciais produção configurações internas sensitive business rules, integração @carf/tscore biblioteca compartilhada prove componente Vue ProtectedContent wrapper verificando isAuthenticated via useAuth composable redirecionando usuários não autenticados para página login Keycloak exibindo conteúdo protegido somente após validação JWT token contendo roles adequadas (ADMIN ANALYST), deployment GitHub Pages hospeda site estático publicamente acessível via URL thalesvpr.github.io/carf-webdocs com build automático triggered por push em main branch executando workflow Actions instalando dependências Bun sincronizando docs do monorepo carf-docs buildando VitePress gerando assets otimizados e deployando para gh-pages branch servido via CDN GitHub Pages global com HTTPS automático custom domain opcional configurável via CNAME. Recursos avançados incluem suporte Mermaid para diagramas de arquitetura sequence diagrams class diagrams entity-relationship diagrams flowcharts renderizados client-side JavaScript sem necessidade gerar imagens manualmente mantendo diagramas versionados como texto markdown editáveis facilmente, syntax highlighting via Shiki para code snippets inline exemplos commands outputs configurações mantendo legibilidade e consistência visual, responsividade mobile-first garantindo documentação acessível via smartphones tablets field agents consultando guias durante trabalho campo, e meta tags SEO otimizados título descrição keywords Open Graph melhorando discoverability via search engines Google indexando conteúdo público facilitando desenvolvedores externos encontrarem documentação CARF.

Stack tecnológico portal utiliza VitePress versão latest como gerador estático baseado Vite build tool oferecendo hot module replacement development server ultra-rápido desenvolvimento iterativo, Vue 3 Composition API para tema customizado e componentes interativos, TypeScript 5 garantindo type safety em configurações customizações, Bun runtime e package manager executando scripts build deployment com performance superior npm, Mermaid library para renderização diagramas, Shiki syntax highlighter, Markdown-it parser extensível com plugins customizados, e GitHub Actions CI/CD workflow automatizando build test deploy. Configuração VitePress define título descrição navegação sidebar search provider local algoritmo indexação themeConfig customizações markdown plugins Mermaid habilitação, estrutura diretórios separa configuração .vitepress com config.ts theme customizações, docs contendo arquivos markdown sincronizados CENTRAL, public para assets estáticos logo imagens favicons, e dist gerado build contendo HTML CSS JS otimizados prontos deploy. Sincronização documentação implementada via script sync-docs.ts executando cpSync Node.js API copiando recursivamente CENTRAL para docs preservando estrutura links relativos, script rodado pre-build hook garantindo sempre latest docs, alternativa futura considera git submodule ou symlink para evitar duplicação mas trade-off simplicidade deployment atual preferível manter cópia explícita evitando complexidade git submodules CI/CD workflows.

Responsabilidades específicas portal incluem servir documentação técnica completa centralizada evitando documentação fragmentada espalhada múltiplos repositórios wikis Confluence Google Docs mantendo single source of truth versionado Git rastreável auditável, prover interface busca navegação superior experiência ler markdown files diretamente GitHub, garantir documentação sempre sincronizada código via CI/CD deployment automático prevenindo documentação outdated divergente implementação real, e facilitar contribuições documentação via pull requests permitindo developers adicionar melhorar docs usando workflow familiar Git markdown preview local VitePress dev server instant feedback. Portal não substitui comentários código docstrings API documentation gerada ferramentas automáticas Swagger TypeDoc mas complementa provendo narrativa alto nível decisões arquiteturais contexto negócio workflows end-to-end que não cabem comments inline código-fonte, documentação portal foca why e what enquanto código documenta how detalhes implementação específicos.

---

**Última atualização:** 2026-01-11
